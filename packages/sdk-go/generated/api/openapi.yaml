openapi: 3.0.3
info:
  description: |-
    Omni v2 is a universal event-driven omnichannel platform API.

    ## Authentication

    All API requests require an API key passed via the `x-api-key` header:

    ```
    x-api-key: omni_sk_your_key_here
    ```

    ## Rate Limiting

    - Messages: 60 requests/minute
    - Events: 100 requests/minute
    - Instances: 30 requests/minute
    - General: 1000 requests/minute

    Rate limit headers are included in responses:
    - `X-RateLimit-Limit`: Max requests per window
    - `X-RateLimit-Remaining`: Requests remaining
    - `X-RateLimit-Reset`: Unix timestamp when limit resets

    ## Pagination

    List endpoints use cursor-based pagination:

    ```
    GET /api/v2/events?limit=50&cursor=abc123
    ```

    Response includes `meta.hasMore` and `meta.cursor` for next page.
  title: Omni v2 API
  version: 2.0.0
servers:
- description: v2 API
  url: /api/v2
security:
- ApiKeyAuth: []
tags:
- description: System health and info
  name: System
- description: API key validation
  name: Auth
- description: Channel instance management
  name: Instances
- description: Send messages
  name: Messages
- description: Message events/traces
  name: Events
- description: Identity management
  name: Persons
- description: Access control rules
  name: Access
- description: Global settings
  name: Settings
- description: Agent providers
  name: Providers
- description: External webhook management
  name: Webhooks
- description: Failed event management
  name: Dead Letters
- description: System metrics and statistics
  name: Metrics
- description: Application logs
  name: Logs
- description: Workflow automations
  name: Automations
- description: Event payload management
  name: Payloads
paths:
  /api/v2/auth/validate:
    post:
      description: Validate the provided API key and return key information. Used
        by CLI login flow.
      operationId: validateApiKey
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/validateApiKey_200_response"
          description: API key is valid
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/validateApiKey_401_response"
          description: Invalid API key
      security:
      - ApiKeyAuth: []
      summary: Validate API key
      tags:
      - Auth
  /health:
    get:
      description: Check the health status of the API and its dependencies.
      operationId: getHealth
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/getHealth_200_response"
          description: System is healthy
        "503":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/getHealth_200_response"
          description: System is unhealthy or degraded
      security: []
      summary: Health check
      tags:
      - System
  /info:
    get:
      description: Get system information and basic statistics.
      operationId: getInfo
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/getInfo_200_response"
          description: System information
      security: []
      summary: System info
      tags:
      - System
  /_internal/health:
    get:
      description: Detailed health information for internal monitoring. Only accessible
        from localhost.
      operationId: getInternalHealth
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/getInternalHealth_200_response"
          description: Internal health status
      security: []
      summary: Internal health check
      tags:
      - System
  /instances:
    get:
      description: Get a paginated list of channel instances with optional filtering.
      operationId: listInstances
      parameters:
      - explode: true
        in: query
        name: channel
        required: false
        schema:
          description: Filter by channel types (comma-separated)
          type: string
        style: form
      - explode: true
        in: query
        name: status
        required: false
        schema:
          description: "Filter by status (active,inactive)"
          type: string
        style: form
      - explode: true
        in: query
        name: limit
        required: false
        schema:
          default: 50
          description: Maximum items to return
          maximum: 100
          minimum: 1
          type: integer
        style: form
      - explode: true
        in: query
        name: cursor
        required: false
        schema:
          description: Pagination cursor
          type: string
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/listInstances_200_response"
          description: List of instances
      summary: List all instances
      tags:
      - Instances
    post:
      description: "Create a new channel instance. For Discord, a bot token is required."
      operationId: createInstance
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/createInstance_request"
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_201_response"
          description: Instance created
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Validation error
      summary: Create new instance
      tags:
      - Instances
  /instances/supported-channels:
    get:
      description: Get a list of all supported channel types with their capabilities.
      operationId: listSupportedChannels
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/listSupportedChannels_200_response"
          description: List of supported channels
      summary: List supported channel types
      tags:
      - Instances
  /instances/{id}:
    delete:
      description: Delete a channel instance. This will disconnect the instance first.
      operationId: deleteInstance
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Instance UUID
          format: uuid
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/deleteInstance_200_response"
          description: Instance deleted
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Instance not found
      summary: Delete instance
      tags:
      - Instances
    get:
      description: Get details of a specific channel instance.
      operationId: getInstance
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Instance UUID
          format: uuid
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_201_response"
          description: Instance details
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Instance not found
      summary: Get instance by ID
      tags:
      - Instances
    patch:
      description: Update an existing channel instance.
      operationId: updateInstance
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Instance UUID
          format: uuid
          type: string
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/updateInstance_request"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_201_response"
          description: Instance updated
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Instance not found
      summary: Update instance
      tags:
      - Instances
  /instances/{id}/status:
    get:
      description: Get the current connection status of a channel instance.
      operationId: getInstanceStatus
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Instance UUID
          format: uuid
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/getInstanceStatus_200_response"
          description: Instance status
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Instance not found
      summary: Get instance connection status
      tags:
      - Instances
  /instances/{id}/qr:
    get:
      description: Get the QR code for connecting a WhatsApp instance.
      operationId: getInstanceQr
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Instance UUID
          format: uuid
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/getInstanceQr_200_response"
          description: QR code data
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Not a WhatsApp instance
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Instance not found
      summary: Get QR code for WhatsApp connection
      tags:
      - Instances
  /instances/{id}/pair:
    post:
      description: Request a pairing code as an alternative to QR code scanning.
      operationId: requestPairingCode
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Instance UUID
          format: uuid
          type: string
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/requestPairingCode_request"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/requestPairingCode_200_response"
          description: Pairing code generated
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Invalid operation
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Instance not found
      summary: Request pairing code
      tags:
      - Instances
  /instances/{id}/connect:
    post:
      description: Initiate connection for a channel instance.
      operationId: connectInstance
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Instance UUID
          format: uuid
          type: string
        style: simple
      - explode: true
        in: query
        name: forceNewQr
        required: false
        schema:
          description: "Force new QR code (deprecated, use body)"
          type: string
        style: form
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/connectInstance_request"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/connectInstance_200_response"
          description: Connection initiated
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Plugin not found
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Instance not found
      summary: Connect instance
      tags:
      - Instances
  /instances/{id}/disconnect:
    post:
      description: Disconnect a channel instance while preserving session data.
      operationId: disconnectInstance
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Instance UUID
          format: uuid
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/deleteInstance_200_response"
          description: Instance disconnected
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Instance not found
      summary: Disconnect instance
      tags:
      - Instances
  /instances/{id}/restart:
    post:
      description: Restart a channel instance by disconnecting and reconnecting.
      operationId: restartInstance
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Instance UUID
          format: uuid
          type: string
        style: simple
      - explode: true
        in: query
        name: forceNewQr
        required: false
        schema:
          description: Force new QR code for re-authentication
          type: string
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/connectInstance_200_response"
          description: Restart initiated
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Plugin not found
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Instance not found
      summary: Restart instance
      tags:
      - Instances
  /instances/{id}/logout:
    post:
      description: "Logout a channel instance, clearing all session data."
      operationId: logoutInstance
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Instance UUID
          format: uuid
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/deleteInstance_200_response"
          description: Session cleared
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Instance not found
      summary: Logout instance
      tags:
      - Instances
  /instances/{id}/users/{userId}/profile:
    get:
      description: Fetch profile information for a specific user on this channel.
      operationId: getUserProfile
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Instance UUID
          format: uuid
          type: string
        style: simple
      - explode: false
        in: path
        name: userId
        required: true
        schema:
          description: User ID (platform-specific format)
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/getUserProfile_200_response"
          description: User profile
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Not supported
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Instance not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Profile fetch failed
      summary: Fetch user profile
      tags:
      - Instances
      - Profiles
  /instances/{id}/contacts:
    get:
      description: "List contacts for an instance. For Discord, requires guildId query\
        \ parameter."
      operationId: listInstanceContacts
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Instance UUID
          format: uuid
          type: string
        style: simple
      - explode: true
        in: query
        name: limit
        required: false
        schema:
          default: 100
          description: Maximum items to return
          maximum: 1000
          minimum: 1
          type: integer
        style: form
      - explode: true
        in: query
        name: cursor
        required: false
        schema:
          description: Pagination cursor
          type: string
        style: form
      - explode: true
        in: query
        name: guildId
        required: false
        schema:
          description: Guild ID (required for Discord)
          type: string
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/listInstanceContacts_200_response"
          description: Contacts list
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Not supported or missing guildId
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Instance not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Contacts fetch failed
      summary: List contacts
      tags:
      - Instances
      - Contacts
  /instances/{id}/groups:
    get:
      description: List groups the instance is participating in.
      operationId: listInstanceGroups
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Instance UUID
          format: uuid
          type: string
        style: simple
      - explode: true
        in: query
        name: limit
        required: false
        schema:
          default: 100
          description: Maximum items to return
          maximum: 1000
          minimum: 1
          type: integer
        style: form
      - explode: true
        in: query
        name: cursor
        required: false
        schema:
          description: Pagination cursor
          type: string
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/listInstanceGroups_200_response"
          description: Groups list
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Not supported
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Instance not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Groups fetch failed
      summary: List groups
      tags:
      - Instances
      - Groups
  /messages:
    post:
      description: Send a text message through a channel instance.
      operationId: sendTextMessage
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/sendTextMessage_request"
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/sendTextMessage_201_response"
          description: Message sent
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Validation error
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Instance not found
      summary: Send text message
      tags:
      - Messages
  /messages/media:
    post:
      description: "Send an image, audio, video, or document through a channel instance."
      operationId: sendMediaMessage
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/sendMediaMessage_request"
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/sendTextMessage_201_response"
          description: Media sent
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Validation error
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Instance not found
      summary: Send media message
      tags:
      - Messages
  /messages/reaction:
    post:
      description: React to a message with an emoji.
      operationId: sendReaction
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/sendReaction_request"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/deleteInstance_200_response"
          description: Reaction sent
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Validation error
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Instance not found
      summary: Send reaction
      tags:
      - Messages
  /messages/sticker:
    post:
      description: Send a sticker through a channel instance.
      operationId: sendSticker
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/sendSticker_request"
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/sendTextMessage_201_response"
          description: Sticker sent
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Validation error
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Instance not found
      summary: Send sticker
      tags:
      - Messages
  /messages/contact:
    post:
      description: Send a contact card through a channel instance.
      operationId: sendContact
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/sendContact_request"
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/sendTextMessage_201_response"
          description: Contact sent
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Validation error
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Instance not found
      summary: Send contact card
      tags:
      - Messages
  /messages/location:
    post:
      description: Send a location through a channel instance.
      operationId: sendLocation
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/sendLocation_request"
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/sendTextMessage_201_response"
          description: Location sent
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Validation error
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Instance not found
      summary: Send location
      tags:
      - Messages
  /messages/send/presence:
    post:
      description: "Send typing/recording indicator in a chat. Auto-pauses after duration.\
        \ WhatsApp supports typing, recording, paused. Discord only supports typing."
      operationId: sendPresence
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/sendPresence_request"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/sendPresence_200_response"
          description: Presence sent
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Validation error or capability not supported
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Instance not found
      summary: Send presence indicator
      tags:
      - Messages
      - Presence
  /messages/{id}/read:
    post:
      description: Send read receipt for a specific message. WhatsApp only.
      operationId: markMessageRead
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Message ID
          format: uuid
          type: string
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/markMessageRead_request"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/markMessageRead_200_response"
          description: Message marked as read
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Validation error or capability not supported
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Message not found
      summary: Mark message as read
      tags:
      - Messages
      - Read Receipts
  /messages/read:
    post:
      description: Send read receipts for multiple messages in a single chat. WhatsApp
        only.
      operationId: markMessagesRead
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/markMessagesRead_request"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/markMessageRead_200_response"
          description: Messages marked as read
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Validation error or capability not supported
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Instance or chat not found
      summary: Mark multiple messages as read
      tags:
      - Messages
      - Read Receipts
  /chats/{id}/read:
    post:
      description: Mark all unread messages in a chat as read. WhatsApp only.
      operationId: markChatRead
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Chat ID
          format: uuid
          type: string
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/markMessageRead_request"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/markMessageRead_200_response"
          description: Chat marked as read
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Validation error or capability not supported
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Chat not found
      summary: Mark entire chat as read
      tags:
      - Chats
      - Read Receipts
  /events:
    get:
      description: Get a paginated list of message events with optional filtering.
      operationId: listEvents
      parameters:
      - explode: true
        in: query
        name: channel
        required: false
        schema:
          description: Channel types (comma-separated)
          type: string
        style: form
      - explode: true
        in: query
        name: instanceId
        required: false
        schema:
          description: Filter by instance
          format: uuid
          type: string
        style: form
      - explode: true
        in: query
        name: personId
        required: false
        schema:
          description: Filter by person
          format: uuid
          type: string
        style: form
      - explode: true
        in: query
        name: eventType
        required: false
        schema:
          description: Event types (comma-separated)
          type: string
        style: form
      - explode: true
        in: query
        name: contentType
        required: false
        schema:
          description: Content types (comma-separated)
          type: string
        style: form
      - explode: true
        in: query
        name: direction
        required: false
        schema:
          description: Direction
          enum:
          - inbound
          - outbound
          type: string
        style: form
      - explode: true
        in: query
        name: since
        required: false
        schema:
          description: Start date
          format: date-time
          type: string
        style: form
      - explode: true
        in: query
        name: until
        required: false
        schema:
          description: End date
          format: date-time
          type: string
        style: form
      - explode: true
        in: query
        name: search
        required: false
        schema:
          description: Full-text search
          type: string
        style: form
      - explode: true
        in: query
        name: limit
        required: false
        schema:
          default: 50
          description: Max results
          maximum: 100
          minimum: 1
          type: integer
        style: form
      - explode: true
        in: query
        name: cursor
        required: false
        schema:
          description: Pagination cursor
          type: string
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/listEvents_200_response"
          description: List of events
      summary: List events
      tags:
      - Events
  /events/analytics:
    get:
      description: Get analytics summary for events.
      operationId: getEventAnalytics
      parameters:
      - explode: true
        in: query
        name: since
        required: false
        schema:
          description: Start date
          format: date-time
          type: string
        style: form
      - explode: true
        in: query
        name: until
        required: false
        schema:
          description: End date
          format: date-time
          type: string
        style: form
      - explode: true
        in: query
        name: instanceId
        required: false
        schema:
          description: Filter by instance
          format: uuid
          type: string
        style: form
      - explode: true
        in: query
        name: allTime
        required: false
        schema:
          description: Include all time data
          type: boolean
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/getEventAnalytics_200_response"
          description: Analytics data
      summary: Get event analytics
      tags:
      - Events
  /events/timeline/{personId}:
    get:
      description: Get cross-channel timeline for a person.
      operationId: getPersonTimeline
      parameters:
      - explode: false
        in: path
        name: personId
        required: true
        schema:
          description: Person UUID
          format: uuid
          type: string
        style: simple
      - explode: true
        in: query
        name: channels
        required: false
        schema:
          description: Channel types (comma-separated)
          type: string
        style: form
      - explode: true
        in: query
        name: since
        required: false
        schema:
          description: Start date
          format: date-time
          type: string
        style: form
      - explode: true
        in: query
        name: until
        required: false
        schema:
          description: End date
          format: date-time
          type: string
        style: form
      - explode: true
        in: query
        name: limit
        required: false
        schema:
          default: 50
          description: Max results
          maximum: 100
          minimum: 1
          type: integer
        style: form
      - explode: true
        in: query
        name: cursor
        required: false
        schema:
          description: Pagination cursor
          type: string
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/getPersonTimeline_200_response"
          description: Timeline events
      summary: Get person timeline
      tags:
      - Events
  /events/search:
    post:
      description: Search events with advanced filters and multiple output formats.
      operationId: searchEvents
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/searchEvents_request"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/searchEvents_200_response"
          description: Search results
      summary: Advanced event search
      tags:
      - Events
  /events/{id}:
    get:
      description: Get details of a specific event.
      operationId: getEvent
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Event UUID
          format: uuid
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/getEvent_200_response"
          description: Event details
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Event not found
      summary: Get event by ID
      tags:
      - Events
  /events/by-sender/{senderId}:
    get:
      description: Get events from a specific sender.
      operationId: getEventsBySender
      parameters:
      - explode: false
        in: path
        name: senderId
        required: true
        schema:
          description: Sender ID
          type: string
        style: simple
      - explode: true
        in: query
        name: instanceId
        required: false
        schema:
          description: Filter by instance
          format: uuid
          type: string
        style: form
      - explode: true
        in: query
        name: limit
        required: false
        schema:
          default: 50
          description: Max results
          maximum: 100
          minimum: 1
          type: integer
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/getEventsBySender_200_response"
          description: Events from sender
      summary: Get events by sender
      tags:
      - Events
  /persons:
    get:
      description: "Search for persons by name, email, or phone."
      operationId: searchPersons
      parameters:
      - explode: true
        in: query
        name: search
        required: true
        schema:
          description: Search term
          minLength: 1
          type: string
        style: form
      - explode: true
        in: query
        name: limit
        required: false
        schema:
          default: 20
          description: Max results
          maximum: 100
          minimum: 1
          type: integer
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/searchPersons_200_response"
          description: Search results
      summary: Search persons
      tags:
      - Persons
  /persons/{id}:
    get:
      description: Get details of a specific person.
      operationId: getPerson
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Person UUID
          format: uuid
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/getPerson_200_response"
          description: Person details
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Person not found
      summary: Get person by ID
      tags:
      - Persons
  /persons/{id}/presence:
    get:
      description: Get all identities and presence information for a person.
      operationId: getPersonPresence
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Person UUID
          format: uuid
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/getPersonPresence_200_response"
          description: Presence data
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Person not found
      summary: Get person presence
      tags:
      - Persons
  /persons/{id}/timeline:
    get:
      description: Get cross-channel message timeline for a person.
      operationId: getPersonTimelineById
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Person UUID
          format: uuid
          type: string
        style: simple
      - explode: true
        in: query
        name: channels
        required: false
        schema:
          description: Channel types (comma-separated)
          type: string
        style: form
      - explode: true
        in: query
        name: since
        required: false
        schema:
          description: Start date
          format: date-time
          type: string
        style: form
      - explode: true
        in: query
        name: until
        required: false
        schema:
          description: End date
          format: date-time
          type: string
        style: form
      - explode: true
        in: query
        name: limit
        required: false
        schema:
          default: 50
          description: Max results
          maximum: 100
          minimum: 1
          type: integer
        style: form
      - explode: true
        in: query
        name: cursor
        required: false
        schema:
          description: Pagination cursor
          type: string
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/getPersonTimelineById_200_response"
          description: Timeline events
      summary: Get person timeline
      tags:
      - Persons
  /persons/link:
    post:
      description: Link two identities to the same person.
      operationId: linkIdentities
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/linkIdentities_request"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/getPerson_200_response"
          description: Identities linked
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Identity not found
      summary: Link identities
      tags:
      - Persons
  /persons/unlink:
    post:
      description: Unlink an identity from its person.
      operationId: unlinkIdentity
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/unlinkIdentity_request"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/unlinkIdentity_200_response"
          description: Identity unlinked
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Identity not found
      summary: Unlink identity
      tags:
      - Persons
  /persons/merge:
    post:
      description: Merge two persons into one.
      operationId: mergePersons
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/mergePersons_request"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/mergePersons_200_response"
          description: Persons merged
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Person not found
      summary: Merge persons
      tags:
      - Persons
  /webhook-sources:
    get:
      description: Get all configured webhook sources.
      operationId: listWebhookSources
      parameters:
      - explode: true
        in: query
        name: enabled
        required: false
        schema:
          description: Filter by enabled
          type: boolean
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/listWebhookSources_200_response"
          description: List of sources
      summary: List webhook sources
      tags:
      - Webhooks
    post:
      description: Create a new webhook source.
      operationId: createWebhookSource
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/createWebhookSource_request"
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createWebhookSource_201_response"
          description: Source created
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Validation error
      summary: Create webhook source
      tags:
      - Webhooks
  /webhook-sources/{id}:
    delete:
      description: Delete a webhook source.
      operationId: deleteWebhookSource
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Source UUID
          format: uuid
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/deleteInstance_200_response"
          description: Source deleted
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Source not found
      summary: Delete webhook source
      tags:
      - Webhooks
    get:
      description: Get details of a specific webhook source.
      operationId: getWebhookSource
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Source UUID
          format: uuid
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createWebhookSource_201_response"
          description: Source details
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Source not found
      summary: Get webhook source
      tags:
      - Webhooks
    patch:
      description: Update an existing webhook source.
      operationId: updateWebhookSource
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Source UUID
          format: uuid
          type: string
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/updateWebhookSource_request"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createWebhookSource_201_response"
          description: Source updated
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Source not found
      summary: Update webhook source
      tags:
      - Webhooks
  /webhooks/{source}:
    post:
      description: Receive webhook from external system. Creates a custom event.
      operationId: receiveWebhook
      parameters:
      - explode: false
        in: path
        name: source
        required: true
        schema:
          description: Source name
          type: string
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              additionalProperties:
                nullable: true
              type: object
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/receiveWebhook_200_response"
          description: Webhook received
      summary: Receive webhook
      tags:
      - Webhooks
  /events/trigger:
    post:
      description: Manually trigger a custom event.
      operationId: triggerEvent
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/triggerEvent_request"
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/receiveWebhook_200_response"
          description: Event triggered
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Validation error
      summary: Trigger custom event
      tags:
      - Webhooks
  /access/rules:
    get:
      description: Get all access rules with optional filtering.
      operationId: listAccessRules
      parameters:
      - explode: true
        in: query
        name: instanceId
        required: false
        schema:
          description: Filter by instance
          format: uuid
          type: string
        style: form
      - explode: true
        in: query
        name: type
        required: false
        schema:
          description: Filter by type
          enum:
          - allow
          - deny
          type: string
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/listAccessRules_200_response"
          description: List of rules
      summary: List access rules
      tags:
      - Access
    post:
      description: Create a new access rule.
      operationId: createAccessRule
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/createAccessRule_request"
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createAccessRule_201_response"
          description: Rule created
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Validation error
      summary: Create access rule
      tags:
      - Access
  /access/rules/{id}:
    delete:
      description: Delete an access rule.
      operationId: deleteAccessRule
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Rule UUID
          format: uuid
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/deleteInstance_200_response"
          description: Rule deleted
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Rule not found
      summary: Delete access rule
      tags:
      - Access
    get:
      description: Get details of a specific access rule.
      operationId: getAccessRule
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Rule UUID
          format: uuid
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createAccessRule_201_response"
          description: Rule details
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Rule not found
      summary: Get access rule
      tags:
      - Access
    patch:
      description: Update an existing access rule.
      operationId: updateAccessRule
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Rule UUID
          format: uuid
          type: string
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/updateAccessRule_request"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createAccessRule_201_response"
          description: Rule updated
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Rule not found
      summary: Update access rule
      tags:
      - Access
  /access/check:
    post:
      description: Check if access is allowed for a user.
      operationId: checkAccess
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/checkAccess_request"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/checkAccess_200_response"
          description: Access check result
      summary: Check access
      tags:
      - Access
  /settings:
    get:
      description: Get all settings. Secret values are masked.
      operationId: listSettings
      parameters:
      - explode: true
        in: query
        name: category
        required: false
        schema:
          description: Filter by category
          type: string
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/listSettings_200_response"
          description: List of settings
      summary: List settings
      tags:
      - Settings
    patch:
      description: Update multiple settings at once.
      operationId: bulkUpdateSettings
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/bulkUpdateSettings_request"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/listSettings_200_response"
          description: Settings updated
      summary: Bulk update settings
      tags:
      - Settings
  /settings/{key}:
    delete:
      description: Delete a setting.
      operationId: deleteSetting
      parameters:
      - explode: false
        in: path
        name: key
        required: true
        schema:
          description: Setting key
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/deleteInstance_200_response"
          description: Setting deleted
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Setting not found
      summary: Delete setting
      tags:
      - Settings
    get:
      description: Get a specific setting by key.
      operationId: getSetting
      parameters:
      - explode: false
        in: path
        name: key
        required: true
        schema:
          description: Setting key
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/getSetting_200_response"
          description: Setting details
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Setting not found
      summary: Get setting
      tags:
      - Settings
    put:
      description: Set a setting value.
      operationId: setSetting
      parameters:
      - explode: false
        in: path
        name: key
        required: true
        schema:
          description: Setting key
          type: string
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/setSetting_request"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/getSetting_200_response"
          description: Setting updated
      summary: Set setting
      tags:
      - Settings
  /settings/{key}/history:
    get:
      description: Get change history for a setting.
      operationId: getSettingHistory
      parameters:
      - explode: false
        in: path
        name: key
        required: true
        schema:
          description: Setting key
          type: string
        style: simple
      - explode: true
        in: query
        name: limit
        required: false
        schema:
          default: 50
          description: Max results
          maximum: 100
          minimum: 1
          type: integer
        style: form
      - explode: true
        in: query
        name: since
        required: false
        schema:
          description: Start date
          format: date-time
          type: string
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/getSettingHistory_200_response"
          description: Setting history
      summary: Get setting history
      tags:
      - Settings
  /providers:
    get:
      description: Get all agent providers.
      operationId: listProviders
      parameters:
      - explode: true
        in: query
        name: active
        required: false
        schema:
          description: Filter by active
          type: boolean
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/listProviders_200_response"
          description: List of providers
      summary: List providers
      tags:
      - Providers
    post:
      description: Create a new agent provider.
      operationId: createProvider
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/createProvider_request"
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createProvider_201_response"
          description: Provider created
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Validation error
      summary: Create provider
      tags:
      - Providers
  /providers/{id}:
    delete:
      description: Delete an agent provider.
      operationId: deleteProvider
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Provider UUID
          format: uuid
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/deleteInstance_200_response"
          description: Provider deleted
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Provider not found
      summary: Delete provider
      tags:
      - Providers
    get:
      description: Get details of a specific provider.
      operationId: getProvider
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Provider UUID
          format: uuid
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createProvider_201_response"
          description: Provider details
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Provider not found
      summary: Get provider
      tags:
      - Providers
    patch:
      description: Update an existing provider.
      operationId: updateProvider
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Provider UUID
          format: uuid
          type: string
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/updateProvider_request"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createProvider_201_response"
          description: Provider updated
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Provider not found
      summary: Update provider
      tags:
      - Providers
  /providers/{id}/health:
    post:
      description: Check if provider is reachable and healthy.
      operationId: checkProviderHealth
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Provider UUID
          format: uuid
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/checkProviderHealth_200_response"
          description: Health check result
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Provider not found
      summary: Check provider health
      tags:
      - Providers
  /providers/{id}/agents:
    get:
      description: List available agents from a provider.
      operationId: listProviderAgents
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Provider UUID
          format: uuid
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/listProviderAgents_200_response"
          description: Agent list
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Provider not found
      summary: List provider agents
      tags:
      - Providers
  /logs/stream:
    get:
      description: Stream logs in real-time via Server-Sent Events. Heartbeat sent
        every 30 seconds.
      operationId: streamLogs
      parameters:
      - explode: true
        in: query
        name: modules
        required: false
        schema:
          description: "Module filters (comma-separated, supports wildcards)"
          type: string
        style: form
      - explode: true
        in: query
        name: level
        required: false
        schema:
          default: info
          description: Minimum log level
          enum:
          - debug
          - info
          - warn
          - error
          type: string
        style: form
      responses:
        "200":
          content:
            text/event-stream:
              schema:
                type: string
          description: SSE stream of log entries
      summary: Stream logs (SSE)
      tags:
      - Logs
  /logs/recent:
    get:
      description: Get recent log entries from the in-memory buffer.
      operationId: getRecentLogs
      parameters:
      - explode: true
        in: query
        name: modules
        required: false
        schema:
          description: "Module filters (comma-separated, supports wildcards)"
          type: string
        style: form
      - explode: true
        in: query
        name: level
        required: false
        schema:
          default: info
          description: Minimum log level
          enum:
          - debug
          - info
          - warn
          - error
          type: string
        style: form
      - explode: true
        in: query
        name: limit
        required: false
        schema:
          default: 100
          description: Maximum entries
          maximum: 1000
          minimum: 1
          type: integer
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/getRecentLogs_200_response"
          description: Recent log entries
      summary: Get recent logs
      tags:
      - Logs
  /dead-letters:
    get:
      description: Get dead letters with filtering.
      operationId: listDeadLetters
      parameters:
      - explode: true
        in: query
        name: status
        required: false
        schema:
          description: Status filter (comma-separated)
          type: string
        style: form
      - explode: true
        in: query
        name: eventType
        required: false
        schema:
          description: Event type filter (comma-separated)
          type: string
        style: form
      - explode: true
        in: query
        name: since
        required: false
        schema:
          description: Start date
          format: date-time
          type: string
        style: form
      - explode: true
        in: query
        name: until
        required: false
        schema:
          description: End date
          format: date-time
          type: string
        style: form
      - explode: true
        in: query
        name: limit
        required: false
        schema:
          default: 50
          description: Max results
          maximum: 100
          minimum: 1
          type: integer
        style: form
      - explode: true
        in: query
        name: cursor
        required: false
        schema:
          description: Pagination cursor
          type: string
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/listDeadLetters_200_response"
          description: List of dead letters
      summary: List dead letters
      tags:
      - Dead Letters
  /dead-letters/stats:
    get:
      description: Get statistics about dead letters.
      operationId: getDeadLetterStats
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/getDeadLetterStats_200_response"
          description: Statistics
      summary: Get dead letter stats
      tags:
      - Dead Letters
  /dead-letters/{id}:
    get:
      description: Get details of a specific dead letter with payload.
      operationId: getDeadLetter
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Dead letter UUID
          format: uuid
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/getDeadLetter_200_response"
          description: Dead letter details
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Not found
      summary: Get dead letter
      tags:
      - Dead Letters
  /dead-letters/{id}/retry:
    post:
      description: Manually retry a dead letter.
      operationId: retryDeadLetter
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Dead letter UUID
          format: uuid
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/retryDeadLetter_200_response"
          description: Retry result
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Retry failed
      summary: Retry dead letter
      tags:
      - Dead Letters
  /dead-letters/{id}/resolve:
    post:
      description: Mark a dead letter as resolved with a note.
      operationId: resolveDeadLetter
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Dead letter UUID
          format: uuid
          type: string
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/resolveDeadLetter_request"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/getDeadLetter_200_response"
          description: Resolved
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Not found
      summary: Resolve dead letter
      tags:
      - Dead Letters
  /dead-letters/{id}/abandon:
    post:
      description: Give up on auto-retrying a dead letter.
      operationId: abandonDeadLetter
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Dead letter UUID
          format: uuid
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/getDeadLetter_200_response"
          description: Abandoned
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Not found
      summary: Abandon dead letter
      tags:
      - Dead Letters
  /event-ops/metrics:
    get:
      description: Get event processing metrics.
      operationId: getEventMetrics
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/getEventMetrics_200_response"
          description: Metrics
      summary: Get event metrics
      tags:
      - Events
  /event-ops/replay:
    get:
      description: List all replay sessions.
      operationId: listReplaySessions
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/listReplaySessions_200_response"
          description: Sessions
      summary: List replay sessions
      tags:
      - Events
    post:
      description: Start an event replay session.
      operationId: startEventReplay
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/listReplaySessions_200_response_items_inner_options"
      responses:
        "202":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/startEventReplay_202_response"
          description: Replay started
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Invalid options
      summary: Start replay session
      tags:
      - Events
  /event-ops/replay/{id}:
    delete:
      description: Cancel a running replay session.
      operationId: cancelReplaySession
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Session UUID
          format: uuid
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/deleteInstance_200_response"
          description: Cancelled
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Not running
      summary: Cancel replay session
      tags:
      - Events
    get:
      description: Get status of a replay session.
      operationId: getReplaySession
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Session UUID
          format: uuid
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/startEventReplay_202_response"
          description: Session status
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Not found
      summary: Get replay session
      tags:
      - Events
  /event-ops/scheduled:
    post:
      description: Manually trigger scheduled operations.
      operationId: runScheduledOps
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/runScheduledOps_200_response"
          description: Result
      summary: Run scheduled operations
      tags:
      - Events
  /metrics:
    get:
      description: Get metrics in Prometheus text format (default) or JSON format.
      operationId: getMetrics
      responses:
        "200":
          content:
            text/plain:
              schema:
                description: Prometheus text format
                type: string
            application/json:
              schema:
                $ref: "#/components/schemas/getMetrics_200_response"
          description: Metrics in Prometheus or JSON format
      summary: Get Prometheus metrics
      tags:
      - Metrics
  /automations:
    get:
      description: Get all automations.
      operationId: listAutomations
      parameters:
      - explode: true
        in: query
        name: enabled
        required: false
        schema:
          description: Filter by enabled
          type: boolean
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/listAutomations_200_response"
          description: List of automations
      summary: List automations
      tags:
      - Automations
    post:
      description: Create a new automation.
      operationId: createAutomation
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/createAutomation_request"
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createAutomation_201_response"
          description: Created
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Validation error
      summary: Create automation
      tags:
      - Automations
  /automations/{id}:
    delete:
      description: Delete an automation.
      operationId: deleteAutomation
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Automation UUID
          format: uuid
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/deleteInstance_200_response"
          description: Deleted
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Not found
      summary: Delete automation
      tags:
      - Automations
    get:
      description: Get details of a specific automation.
      operationId: getAutomation
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Automation UUID
          format: uuid
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createAutomation_201_response"
          description: Automation details
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Not found
      summary: Get automation
      tags:
      - Automations
    patch:
      description: Update an existing automation.
      operationId: updateAutomation
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Automation UUID
          format: uuid
          type: string
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/updateAutomation_request"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createAutomation_201_response"
          description: Updated
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Not found
      summary: Update automation
      tags:
      - Automations
  /automations/{id}/enable:
    post:
      description: Enable an automation.
      operationId: enableAutomation
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Automation UUID
          format: uuid
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createAutomation_201_response"
          description: Enabled
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Not found
      summary: Enable automation
      tags:
      - Automations
  /automations/{id}/disable:
    post:
      description: Disable an automation.
      operationId: disableAutomation
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Automation UUID
          format: uuid
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createAutomation_201_response"
          description: Disabled
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Not found
      summary: Disable automation
      tags:
      - Automations
  /automations/{id}/test:
    post:
      description: Test automation against a sample event (dry run).
      operationId: testAutomation
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Automation UUID
          format: uuid
          type: string
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/testAutomation_request"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/testAutomation_200_response"
          description: Test result
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Not found
      summary: Test automation
      tags:
      - Automations
  /automations/{id}/execute:
    post:
      description: Execute automation with a provided event payload. Actually runs
        the actions (not a dry run).
      operationId: executeAutomation
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Automation UUID
          format: uuid
          type: string
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/testAutomation_request"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/executeAutomation_200_response"
          description: Execution result
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Not found
      summary: Execute automation
      tags:
      - Automations
  /automations/{id}/logs:
    get:
      description: Get execution logs for an automation.
      operationId: getAutomationLogs
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          description: Automation UUID
          format: uuid
          type: string
        style: simple
      - explode: true
        in: query
        name: limit
        required: false
        schema:
          default: 50
          description: Max results
          maximum: 100
          minimum: 1
          type: integer
        style: form
      - explode: true
        in: query
        name: cursor
        required: false
        schema:
          description: Pagination cursor
          type: string
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/getAutomationLogs_200_response"
          description: Logs
      summary: Get automation logs
      tags:
      - Automations
  /automation-logs:
    get:
      description: Search execution logs across automations.
      operationId: searchAutomationLogs
      parameters:
      - explode: true
        in: query
        name: limit
        required: false
        schema:
          default: 50
          description: Max results
          maximum: 100
          minimum: 1
          type: integer
        style: form
      - explode: true
        in: query
        name: cursor
        required: false
        schema:
          description: Pagination cursor
          type: string
        style: form
      - explode: true
        in: query
        name: status
        required: false
        schema:
          description: Filter by status
          enum:
          - success
          - failed
          - skipped
          type: string
        style: form
      - explode: true
        in: query
        name: eventType
        required: false
        schema:
          description: Filter by event type
          type: string
        style: form
      - explode: true
        in: query
        name: automationId
        required: false
        schema:
          description: Filter by automation
          format: uuid
          type: string
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/getAutomationLogs_200_response"
          description: Logs
      summary: Search automation logs
      tags:
      - Automations
  /automation-metrics:
    get:
      description: Get automation engine metrics.
      operationId: getAutomationMetrics
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/getAutomationMetrics_200_response"
          description: Metrics
      summary: Get automation metrics
      tags:
      - Automations
  /events/{eventId}/payloads:
    delete:
      description: Soft-delete all payloads for an event.
      operationId: deleteEventPayloads
      parameters:
      - explode: false
        in: path
        name: eventId
        required: true
        schema:
          description: Event UUID
          format: uuid
          type: string
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/deleteEventPayloads_request"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/runScheduledOps_200_response_data_payloadCleanup"
          description: Deleted count
      summary: Delete event payloads
      tags:
      - Payloads
    get:
      description: Get all payloads for an event (metadata only).
      operationId: listEventPayloads
      parameters:
      - explode: false
        in: path
        name: eventId
        required: true
        schema:
          description: Event UUID
          format: uuid
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/listEventPayloads_200_response"
          description: Payload list
      summary: List event payloads
      tags:
      - Payloads
  /events/{eventId}/payloads/{stage}:
    get:
      description: Get a specific stage payload with decompressed data.
      operationId: getEventPayloadByStage
      parameters:
      - explode: false
        in: path
        name: eventId
        required: true
        schema:
          description: Event UUID
          format: uuid
          type: string
        style: simple
      - explode: false
        in: path
        name: stage
        required: true
        schema:
          description: Payload stage
          enum:
          - webhook_raw
          - agent_request
          - agent_response
          - channel_send
          - error
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/getEventPayloadByStage_200_response"
          description: Payload with data
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Invalid stage
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/createInstance_400_response"
          description: Not found
      summary: Get event payload by stage
      tags:
      - Payloads
  /payload-config:
    get:
      description: Get all payload storage configurations.
      operationId: listPayloadConfigs
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/listPayloadConfigs_200_response"
          description: Config list
      summary: List payload configs
      tags:
      - Payloads
  /payload-config/{eventType}:
    put:
      description: Update or create payload storage config for an event type.
      operationId: updatePayloadConfig
      parameters:
      - explode: false
        in: path
        name: eventType
        required: true
        schema:
          description: Event type pattern
          type: string
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/updatePayloadConfig_request"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/updatePayloadConfig_200_response"
          description: Updated config
      summary: Update payload config
      tags:
      - Payloads
  /payload-stats:
    get:
      description: Get payload storage statistics.
      operationId: getPayloadStats
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/getPayloadStats_200_response"
          description: Stats
      summary: Get payload stats
      tags:
      - Payloads
components:
  parameters: {}
  schemas:
    Error:
      properties:
        error:
          $ref: "#/components/schemas/createInstance_400_response_error"
      required:
      - error
      type: object
    PaginationMeta:
      properties:
        hasMore:
          description: Whether there are more items
          type: boolean
        cursor:
          description: Cursor for next page
          nullable: true
          type: string
      required:
      - cursor
      - hasMore
      type: object
    Success:
      properties:
        success:
          description: Operation succeeded
          type: boolean
        message:
          description: Optional success message
          type: string
      required:
      - success
      type: object
    AuthValidateResponse:
      properties:
        data:
          $ref: "#/components/schemas/validateApiKey_200_response_data"
      required:
      - data
      type: object
    HealthCheck:
      properties:
        status:
          description: Check status
          enum:
          - ok
          - error
          type: string
        latency:
          description: Latency in milliseconds
          type: number
        error:
          description: Error message if status is error
          type: string
        details:
          additionalProperties:
            nullable: true
          description: Additional details
          type: object
      required:
      - status
      type: object
    HealthResponse:
      properties:
        status:
          description: Overall health status
          enum:
          - healthy
          - degraded
          - unhealthy
          type: string
        version:
          description: API version
          type: string
        uptime:
          description: Uptime in seconds
          type: integer
        timestamp:
          description: Current timestamp
          format: date-time
          type: string
        checks:
          $ref: "#/components/schemas/getHealth_200_response_checks"
        instances:
          $ref: "#/components/schemas/getHealth_200_response_instances"
      required:
      - checks
      - status
      - timestamp
      - uptime
      - version
      type: object
    InfoResponse:
      properties:
        version:
          description: API version
          type: string
        environment:
          description: Environment
          type: string
        uptime:
          description: Uptime in seconds
          type: integer
        instances:
          $ref: "#/components/schemas/getInfo_200_response_instances"
        events:
          $ref: "#/components/schemas/getInfo_200_response_events"
      required:
      - environment
      - events
      - instances
      - uptime
      - version
      type: object
    InternalHealthResponse:
      properties:
        status:
          description: Health status
          type: string
        service:
          description: Service name
          type: string
        pid:
          description: Process ID
          type: integer
        memory:
          $ref: "#/components/schemas/getInternalHealth_200_response_memory"
      required:
      - memory
      - pid
      - service
      - status
      type: object
    Instance:
      properties:
        id:
          description: Instance UUID
          format: uuid
          type: string
        name:
          description: Instance name
          type: string
        channel:
          description: Channel type
          enum:
          - whatsapp-baileys
          - whatsapp-cloud
          - discord
          - slack
          - telegram
          type: string
        isActive:
          description: Whether instance is active
          type: boolean
        isDefault:
          description: Whether this is the default instance for channel
          type: boolean
        profileName:
          description: Connected profile name
          nullable: true
          type: string
        profilePicUrl:
          description: Profile picture URL
          nullable: true
          type: string
        ownerIdentifier:
          description: Owner identifier
          nullable: true
          type: string
        agentProviderId:
          description: Agent provider UUID
          format: uuid
          nullable: true
          type: string
        agentId:
          description: Agent ID
          nullable: true
          type: string
        agentTimeout:
          description: Agent timeout in seconds
          type: number
        agentStreamMode:
          description: Whether streaming is enabled
          type: boolean
        createdAt:
          description: Creation timestamp
          format: date-time
          type: string
        updatedAt:
          description: Last update timestamp
          format: date-time
          type: string
      required:
      - agentId
      - agentProviderId
      - agentStreamMode
      - agentTimeout
      - channel
      - createdAt
      - id
      - isActive
      - isDefault
      - name
      - ownerIdentifier
      - profileName
      - profilePicUrl
      - updatedAt
      type: object
    CreateInstanceRequest:
      example:
        agentProviderId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        agentId: default
        isDefault: false
        agentStreamMode: false
        name: name
        channel: whatsapp-baileys
        agentTimeout: 0
        token: token
      properties:
        name:
          description: Unique name for the instance
          maxLength: 255
          minLength: 1
          type: string
        channel:
          description: Channel type
          enum:
          - whatsapp-baileys
          - whatsapp-cloud
          - discord
          - slack
          - telegram
          type: string
        agentProviderId:
          description: Reference to agent provider
          format: uuid
          type: string
        agentId:
          default: default
          description: Agent ID within the provider
          maxLength: 255
          type: string
        agentTimeout:
          default: 60
          description: Agent timeout in seconds
          exclusiveMinimum: true
          minimum: 0
          type: integer
        agentStreamMode:
          default: false
          description: Enable streaming responses
          type: boolean
        isDefault:
          default: false
          description: Set as default instance for channel
          type: boolean
        token:
          description: Bot token for Discord instances
          type: string
      required:
      - channel
      - name
      type: object
    InstanceStatus:
      properties:
        instanceId:
          description: Instance UUID
          format: uuid
          type: string
        state:
          description: Connection state
          type: string
        isConnected:
          description: Whether instance is connected
          type: boolean
        connectedAt:
          description: When connected
          format: date-time
          nullable: true
          type: string
        profileName:
          description: Profile name
          nullable: true
          type: string
        profilePicUrl:
          description: Profile picture URL
          nullable: true
          type: string
        ownerIdentifier:
          description: Owner identifier
          nullable: true
          type: string
        message:
          description: Status message
          type: string
      required:
      - connectedAt
      - instanceId
      - isConnected
      - ownerIdentifier
      - profileName
      - profilePicUrl
      - state
      type: object
    QrCode:
      properties:
        qr:
          description: QR code string
          nullable: true
          type: string
        expiresAt:
          description: QR code expiration
          format: date-time
          nullable: true
          type: string
        message:
          description: Status message
          type: string
      required:
      - expiresAt
      - message
      - qr
      type: object
    PairingCodeRequest:
      properties:
        phoneNumber:
          description: Phone number in international format
          maxLength: 20
          minLength: 10
          type: string
      required:
      - phoneNumber
      type: object
    PairingCode:
      properties:
        code:
          description: Pairing code to enter on phone
          type: string
        phoneNumber:
          description: Masked phone number
          type: string
        message:
          description: Instructions for user
          type: string
        expiresIn:
          description: Seconds until code expires
          type: number
      required:
      - code
      - expiresIn
      - message
      - phoneNumber
      type: object
    ConnectInstanceRequest:
      example:
        forceNewQr: true
        token: token
      properties:
        token:
          description: Bot token for Discord instances
          type: string
        forceNewQr:
          description: Force new QR code for WhatsApp
          type: boolean
      type: object
    ConnectResponse:
      properties:
        instanceId:
          description: Instance UUID
          format: uuid
          type: string
        status:
          description: Connection status
          type: string
        message:
          description: Status message
          type: string
      required:
      - instanceId
      - message
      - status
      type: object
    SupportedChannel:
      properties:
        id:
          description: Channel type ID
          enum:
          - whatsapp-baileys
          - whatsapp-cloud
          - discord
          - slack
          - telegram
          type: string
        name:
          description: Human-readable channel name
          type: string
        version:
          description: Plugin version
          type: string
        description:
          description: Channel description
          type: string
        loaded:
          description: Whether plugin is loaded
          type: boolean
        capabilities:
          additionalProperties:
            nullable: true
          description: Plugin capabilities
          type: object
      required:
      - id
      - loaded
      - name
      type: object
    UserProfile:
      properties:
        platformUserId:
          description: Platform user ID
          type: string
        displayName:
          description: Display name
          type: string
        avatarUrl:
          description: Avatar URL
          type: string
        bio:
          description: Bio/status
          type: string
        phone:
          description: Phone number
          type: string
        platformMetadata:
          additionalProperties:
            nullable: true
          description: Platform-specific data
          type: object
      required:
      - platformUserId
      type: object
    Contact:
      properties:
        platformUserId:
          description: Platform user ID
          type: string
        displayName:
          description: Display name
          type: string
        phone:
          description: Phone number
          type: string
        avatarUrl:
          description: Avatar URL
          type: string
        isGroup:
          description: Whether this is a group
          type: boolean
        isBusiness:
          description: Whether this is a business account
          type: boolean
        platformMetadata:
          additionalProperties:
            nullable: true
          description: Platform-specific metadata
          type: object
      required:
      - isGroup
      - platformUserId
      type: object
    Group:
      properties:
        externalId:
          description: External group ID
          type: string
        name:
          description: Group name
          type: string
        description:
          description: Group description
          type: string
        memberCount:
          description: Number of members
          type: number
        createdAt:
          description: Creation timestamp
          format: date-time
          type: string
        createdBy:
          description: Creator ID
          type: string
        isReadOnly:
          description: Whether group is read-only
          type: boolean
        platformMetadata:
          additionalProperties:
            nullable: true
          description: Platform-specific metadata
          type: object
      required:
      - externalId
      type: object
    MessageResponse:
      properties:
        messageId:
          description: Internal message ID
          type: string
        externalMessageId:
          description: External platform message ID
          type: string
        status:
          description: Message status
          type: string
        instanceId:
          description: Instance UUID
          format: uuid
          type: string
        to:
          description: Recipient
          type: string
        mediaType:
          description: Media type if applicable
          type: string
      required:
      - externalMessageId
      - messageId
      - status
      type: object
    SendTextRequest:
      properties:
        instanceId:
          description: Instance ID to send from
          format: uuid
          type: string
        to:
          description: Recipient (phone number or platform ID)
          minLength: 1
          type: string
        text:
          description: Message text
          minLength: 1
          type: string
        replyTo:
          description: Message ID to reply to
          type: string
      required:
      - instanceId
      - text
      - to
      type: object
    SendMediaRequest:
      properties:
        instanceId:
          description: Instance ID to send from
          format: uuid
          type: string
        to:
          description: Recipient
          minLength: 1
          type: string
        type:
          description: Media type
          enum:
          - image
          - audio
          - video
          - document
          type: string
        url:
          description: Media URL
          format: uri
          type: string
        base64:
          description: Base64 encoded media
          type: string
        filename:
          description: Filename for documents
          type: string
        caption:
          description: Caption for media
          type: string
        voiceNote:
          description: Send audio as voice note
          type: boolean
      required:
      - instanceId
      - to
      - type
      type: object
    SendReactionRequest:
      example:
        instanceId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        emoji: emoji
        messageId: messageId
        to: to
      properties:
        instanceId:
          description: Instance ID
          format: uuid
          type: string
        to:
          description: Chat ID
          minLength: 1
          type: string
        messageId:
          description: Message ID to react to
          minLength: 1
          type: string
        emoji:
          description: Emoji to react with
          minLength: 1
          type: string
      required:
      - emoji
      - instanceId
      - messageId
      - to
      type: object
    SendStickerRequest:
      example:
        instanceId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        base64: base64
        to: to
        url: https://openapi-generator.tech
      properties:
        instanceId:
          description: Instance ID
          format: uuid
          type: string
        to:
          description: Recipient
          minLength: 1
          type: string
        url:
          description: Sticker URL
          format: uri
          type: string
        base64:
          description: Base64 encoded sticker
          type: string
      required:
      - instanceId
      - to
      type: object
    SendContactRequest:
      example:
        instanceId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        contact:
          phone: phone
          organization: organization
          name: name
          email: email
        to: to
      properties:
        instanceId:
          description: Instance ID
          format: uuid
          type: string
        to:
          description: Recipient
          minLength: 1
          type: string
        contact:
          $ref: "#/components/schemas/sendContact_request_contact"
      required:
      - contact
      - instanceId
      - to
      type: object
    SendLocationRequest:
      example:
        instanceId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        address: address
        latitude: 0.8008281904610115
        name: name
        to: to
        longitude: 6.027456183070403
      properties:
        instanceId:
          description: Instance ID
          format: uuid
          type: string
        to:
          description: Recipient
          minLength: 1
          type: string
        latitude:
          description: Latitude
          type: number
        longitude:
          description: Longitude
          type: number
        name:
          description: Location name
          type: string
        address:
          description: Address
          type: string
      required:
      - instanceId
      - latitude
      - longitude
      - to
      type: object
    SendPresenceRequest:
      example:
        duration: 2402
        instanceId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        to: to
        type: typing
      properties:
        instanceId:
          description: Instance ID to send from
          format: uuid
          type: string
        to:
          description: Chat ID to show presence in
          minLength: 1
          type: string
        type:
          description: Presence type
          enum:
          - typing
          - recording
          - paused
          type: string
        duration:
          default: 5000
          description: "Duration in ms before auto-pause (default 5000, 0 = until\
            \ paused)"
          maximum: 30000
          minimum: 0
          type: integer
      required:
      - instanceId
      - to
      - type
      type: object
    PresenceResponse:
      properties:
        instanceId:
          description: Instance ID
          format: uuid
          type: string
        chatId:
          description: Chat ID where presence was sent
          type: string
        type:
          description: Presence type sent
          type: string
        duration:
          description: Duration in ms
          type: number
      required:
      - chatId
      - duration
      - instanceId
      - type
      type: object
    MarkMessageReadRequest:
      example:
        instanceId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
      properties:
        instanceId:
          description: Instance ID
          format: uuid
          type: string
      required:
      - instanceId
      type: object
    MarkBatchReadRequest:
      properties:
        instanceId:
          description: Instance ID
          format: uuid
          type: string
        chatId:
          description: Chat ID containing the messages
          minLength: 1
          type: string
        messageIds:
          description: Message IDs to mark as read
          items:
            minLength: 1
            type: string
          maxItems: 100
          minItems: 1
          type: array
      required:
      - chatId
      - instanceId
      - messageIds
      type: object
    MarkChatReadRequest:
      properties:
        instanceId:
          description: Instance ID
          format: uuid
          type: string
      required:
      - instanceId
      type: object
    ReadReceiptResponse:
      properties:
        messageId:
          description: Internal message ID (if single message)
          type: string
        externalMessageId:
          description: External message ID
          type: string
        chatId:
          description: Chat ID
          type: string
        instanceId:
          description: Instance ID
          format: uuid
          type: string
        messageCount:
          description: Number of messages marked (batch only)
          type: number
      type: object
    Event:
      properties:
        id:
          description: Event UUID
          format: uuid
          type: string
        eventType:
          description: Event type
          type: string
        contentType:
          description: Content type
          nullable: true
          type: string
        instanceId:
          description: Instance UUID
          format: uuid
          type: string
        personId:
          description: Person UUID
          format: uuid
          nullable: true
          type: string
        direction:
          description: Message direction
          enum:
          - inbound
          - outbound
          type: string
        textContent:
          description: Text content
          nullable: true
          type: string
        transcription:
          description: Audio transcription
          nullable: true
          type: string
        imageDescription:
          description: Image description
          nullable: true
          type: string
        receivedAt:
          description: When event was received
          format: date-time
          type: string
        processedAt:
          description: When event was processed
          format: date-time
          nullable: true
          type: string
      required:
      - contentType
      - direction
      - eventType
      - id
      - imageDescription
      - instanceId
      - personId
      - processedAt
      - receivedAt
      - textContent
      - transcription
      type: object
    EventSummary:
      properties:
        id:
          description: Event UUID
          format: uuid
          type: string
        eventType:
          description: Event type
          type: string
        contentType:
          description: Content type
          nullable: true
          type: string
        receivedAt:
          description: When event was received
          format: date-time
          type: string
        textPreview:
          description: First 100 chars of text
          nullable: true
          type: string
      required:
      - contentType
      - eventType
      - id
      - receivedAt
      - textPreview
      type: object
    EventAnalytics:
      properties:
        totalEvents:
          description: Total event count
          type: integer
        byEventType:
          additionalProperties:
            type: number
          description: Count by event type
          type: object
        byChannel:
          additionalProperties:
            type: number
          description: Count by channel
          type: object
        byDirection:
          $ref: "#/components/schemas/getEventAnalytics_200_response_byDirection"
      required:
      - byChannel
      - byDirection
      - byEventType
      - totalEvents
      type: object
    EventSearch:
      properties:
        query:
          description: Full-text search query
          type: string
        filters:
          $ref: "#/components/schemas/searchEvents_request_filters"
        format:
          default: full
          description: Response format
          enum:
          - full
          - summary
          - agent
          type: string
        limit:
          default: 50
          description: Max results
          maximum: 100
          minimum: 1
          type: integer
      type: object
    Identity:
      properties:
        id:
          description: Identity UUID
          format: uuid
          type: string
        personId:
          description: Person UUID
          format: uuid
          type: string
        channel:
          description: Channel type
          type: string
        platformUserId:
          description: Platform user ID
          type: string
        displayName:
          description: Display name
          nullable: true
          type: string
        profilePicUrl:
          description: Profile picture URL
          nullable: true
          type: string
        messageCount:
          description: Total messages
          type: integer
        lastSeenAt:
          description: Last seen timestamp
          format: date-time
          nullable: true
          type: string
      required:
      - channel
      - displayName
      - id
      - lastSeenAt
      - messageCount
      - personId
      - platformUserId
      - profilePicUrl
      type: object
    Person:
      properties:
        id:
          description: Person UUID
          format: uuid
          type: string
        displayName:
          description: Display name
          nullable: true
          type: string
        email:
          description: Email address
          format: email
          nullable: true
          type: string
        phone:
          description: Phone number
          nullable: true
          type: string
        createdAt:
          description: Creation timestamp
          format: date-time
          type: string
        updatedAt:
          description: Last update timestamp
          format: date-time
          type: string
      required:
      - createdAt
      - displayName
      - email
      - id
      - phone
      - updatedAt
      type: object
    PersonPresence:
      properties:
        person:
          $ref: "#/components/schemas/searchPersons_200_response_items_inner"
        identities:
          items:
            $ref: "#/components/schemas/getPersonPresence_200_response_data_identities_inner"
          type: array
        summary:
          $ref: "#/components/schemas/getPersonPresence_200_response_data_summary"
        byChannel:
          additionalProperties:
            $ref: "#/components/schemas/getPersonPresence_200_response_data_byChannel_value"
          type: object
      required:
      - byChannel
      - identities
      - person
      - summary
      type: object
    LinkIdentitiesRequest:
      example:
        identityB: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        identityA: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
      properties:
        identityA:
          description: First identity ID
          format: uuid
          type: string
        identityB:
          description: Second identity ID
          format: uuid
          type: string
      required:
      - identityA
      - identityB
      type: object
    UnlinkIdentityRequest:
      example:
        reason: reason
        identityId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
      properties:
        identityId:
          description: Identity ID to unlink
          format: uuid
          type: string
        reason:
          description: Reason for unlinking
          minLength: 1
          type: string
      required:
      - identityId
      - reason
      type: object
    MergePersonsRequest:
      example:
        reason: reason
        targetPersonId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        sourcePersonId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
      properties:
        sourcePersonId:
          description: Person to merge from (will be deleted)
          format: uuid
          type: string
        targetPersonId:
          description: Person to merge into (will be kept)
          format: uuid
          type: string
        reason:
          description: Reason for merge
          type: string
      required:
      - sourcePersonId
      - targetPersonId
      type: object
    WebhookSource:
      properties:
        id:
          description: Source UUID
          format: uuid
          type: string
        name:
          description: Source name
          type: string
        description:
          description: Description
          nullable: true
          type: string
        expectedHeaders:
          additionalProperties:
            type: boolean
          description: Expected headers
          nullable: true
          type: object
        enabled:
          description: Whether enabled
          type: boolean
        createdAt:
          description: Creation timestamp
          format: date-time
          type: string
        updatedAt:
          description: Last update timestamp
          format: date-time
          type: string
      required:
      - createdAt
      - description
      - enabled
      - expectedHeaders
      - id
      - name
      - updatedAt
      type: object
    CreateWebhookSourceRequest:
      example:
        expectedHeaders:
          key: true
        name: name
        description: description
        enabled: true
      properties:
        name:
          description: Unique source name
          maxLength: 100
          minLength: 1
          type: string
        description:
          description: Description
          type: string
        expectedHeaders:
          additionalProperties:
            type: boolean
          description: Headers to validate
          type: object
        enabled:
          default: true
          description: Whether enabled
          type: boolean
      required:
      - name
      type: object
    TriggerEventRequest:
      example:
        instanceId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        payload:
          key: ""
        correlationId: correlationId
        eventType: eventType
      properties:
        eventType:
          description: Event type (must start with custom.)
          minLength: 1
          type: string
        payload:
          additionalProperties:
            nullable: true
          description: Event payload
          type: object
        correlationId:
          description: Correlation ID
          type: string
        instanceId:
          description: Instance ID for context
          format: uuid
          type: string
      required:
      - eventType
      - payload
      type: object
    WebhookReceiveResponse:
      properties:
        eventId:
          description: Created event ID
          format: uuid
          type: string
        source:
          description: Webhook source name
          type: string
        eventType:
          description: Event type
          type: string
      required:
      - eventId
      - eventType
      - source
      type: object
    AccessRule:
      properties:
        id:
          description: Rule UUID
          format: uuid
          type: string
        instanceId:
          description: Instance UUID (null for global)
          format: uuid
          nullable: true
          type: string
        ruleType:
          description: Rule type
          enum:
          - allow
          - deny
          type: string
        phonePattern:
          description: Phone pattern
          nullable: true
          type: string
        platformUserId:
          description: Platform user ID
          nullable: true
          type: string
        personId:
          description: Person UUID
          format: uuid
          nullable: true
          type: string
        priority:
          description: Priority (higher = checked first)
          type: integer
        enabled:
          description: Whether enabled
          type: boolean
        reason:
          description: Reason
          nullable: true
          type: string
        expiresAt:
          description: Expiration
          format: date-time
          nullable: true
          type: string
        action:
          description: Action
          enum:
          - block
          - allow
          - silent_block
          type: string
        blockMessage:
          description: Custom block message
          nullable: true
          type: string
        createdAt:
          description: Creation timestamp
          format: date-time
          type: string
        updatedAt:
          description: Last update timestamp
          format: date-time
          type: string
      required:
      - action
      - blockMessage
      - createdAt
      - enabled
      - expiresAt
      - id
      - instanceId
      - personId
      - phonePattern
      - platformUserId
      - priority
      - reason
      - ruleType
      - updatedAt
      type: object
    CreateAccessRuleRequest:
      example:
        reason: reason
        instanceId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        platformUserId: platformUserId
        ruleType: allow
        blockMessage: blockMessage
        action: block
        phonePattern: phonePattern
        personId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        priority: 0
        enabled: true
        expiresAt: 2000-01-23T04:56:07.000+00:00
      properties:
        instanceId:
          description: Instance ID (null for global)
          format: uuid
          nullable: true
          type: string
        ruleType:
          description: Rule type
          enum:
          - allow
          - deny
          type: string
        phonePattern:
          description: Phone pattern with wildcards
          type: string
        platformUserId:
          description: Exact platform user ID
          type: string
        personId:
          description: Person ID
          format: uuid
          type: string
        priority:
          default: 0
          description: Priority
          type: integer
        enabled:
          default: true
          description: Whether enabled
          type: boolean
        reason:
          description: Reason
          type: string
        expiresAt:
          description: Expiration
          format: date-time
          type: string
        action:
          default: block
          description: Action
          enum:
          - block
          - allow
          - silent_block
          type: string
        blockMessage:
          description: Custom block message
          type: string
      required:
      - ruleType
      type: object
    CheckAccessRequest:
      example:
        instanceId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        platformUserId: platformUserId
        channel: channel
      properties:
        instanceId:
          description: Instance ID
          format: uuid
          type: string
        platformUserId:
          description: Platform user ID
          type: string
        channel:
          description: Channel type
          type: string
      required:
      - channel
      - instanceId
      - platformUserId
      type: object
    CheckAccessResponse:
      properties:
        allowed:
          description: Whether access is allowed
          type: boolean
        rule:
          $ref: "#/components/schemas/checkAccess_200_response_data_rule"
        reason:
          description: Reason for decision
          nullable: true
          type: string
      required:
      - allowed
      - reason
      - rule
      type: object
    Setting:
      properties:
        key:
          description: Setting key
          type: string
        value:
          description: Setting value (masked if secret)
          nullable: true
        category:
          description: Category
          nullable: true
          type: string
        isSecret:
          description: Whether value is secret
          type: boolean
        description:
          description: Description
          nullable: true
          type: string
        createdAt:
          description: Creation timestamp
          format: date-time
          type: string
        updatedAt:
          description: Last update timestamp
          format: date-time
          type: string
      required:
      - category
      - createdAt
      - description
      - isSecret
      - key
      - updatedAt
      type: object
    SetSettingRequest:
      example:
        reason: reason
        value: ""
      properties:
        value:
          description: Setting value
          nullable: true
        reason:
          description: Reason for change (audit)
          type: string
      type: object
    BulkUpdateSettingsRequest:
      example:
        settings:
          key: ""
        reason: reason
      properties:
        settings:
          additionalProperties:
            nullable: true
          description: Key-value pairs
          type: object
        reason:
          description: Reason for changes (audit)
          type: string
      required:
      - settings
      type: object
    SettingHistory:
      properties:
        oldValue:
          description: Old value (masked)
          nullable: true
          type: string
        newValue:
          description: New value (masked)
          nullable: true
          type: string
        changedBy:
          description: Who made the change
          type: string
        changedAt:
          description: When changed
          format: date-time
          type: string
        changeReason:
          description: Reason for change
          nullable: true
          type: string
      required:
      - changeReason
      - changedAt
      - changedBy
      - newValue
      - oldValue
      type: object
    Provider:
      properties:
        id:
          description: Provider UUID
          format: uuid
          type: string
        name:
          description: Provider name
          type: string
        schema:
          description: Provider schema type
          enum:
          - agnoos
          - a2a
          - openai
          - anthropic
          - custom
          type: string
        baseUrl:
          description: Base URL
          format: uri
          type: string
        apiKey:
          description: API key (masked)
          nullable: true
          type: string
        schemaConfig:
          additionalProperties:
            nullable: true
          description: Schema config
          nullable: true
          type: object
        defaultStream:
          description: Default streaming
          type: boolean
        defaultTimeout:
          description: Default timeout (seconds)
          type: integer
        supportsStreaming:
          description: Supports streaming
          type: boolean
        supportsImages:
          description: Supports images
          type: boolean
        supportsAudio:
          description: Supports audio
          type: boolean
        supportsDocuments:
          description: Supports documents
          type: boolean
        description:
          description: Description
          nullable: true
          type: string
        tags:
          description: Tags
          items:
            type: string
          nullable: true
          type: array
        isActive:
          description: Whether active
          type: boolean
        createdAt:
          description: Creation timestamp
          format: date-time
          type: string
        updatedAt:
          description: Last update timestamp
          format: date-time
          type: string
      required:
      - apiKey
      - baseUrl
      - createdAt
      - defaultStream
      - defaultTimeout
      - description
      - id
      - isActive
      - name
      - schema
      - schemaConfig
      - supportsAudio
      - supportsDocuments
      - supportsImages
      - supportsStreaming
      - tags
      - updatedAt
      type: object
    CreateProviderRequest:
      example:
        schema: agnoos
        defaultTimeout: 0
        apiKey: apiKey
        description: description
        defaultStream: true
        supportsDocuments: false
        tags:
        - tags
        - tags
        baseUrl: https://openapi-generator.tech
        supportsStreaming: true
        supportsImages: false
        schemaConfig:
          key: ""
        name: name
        supportsAudio: false
      properties:
        name:
          description: Provider name
          maxLength: 255
          minLength: 1
          type: string
        schema:
          default: agnoos
          description: Schema type
          enum:
          - agnoos
          - a2a
          - openai
          - anthropic
          - custom
          type: string
        baseUrl:
          description: Base URL
          format: uri
          type: string
        apiKey:
          description: API key (encrypted)
          type: string
        schemaConfig:
          additionalProperties:
            nullable: true
          description: Schema config
          type: object
        defaultStream:
          default: true
          description: Default streaming
          type: boolean
        defaultTimeout:
          default: 60
          description: Default timeout
          exclusiveMinimum: true
          minimum: 0
          type: integer
        supportsStreaming:
          default: true
          description: Supports streaming
          type: boolean
        supportsImages:
          default: false
          description: Supports images
          type: boolean
        supportsAudio:
          default: false
          description: Supports audio
          type: boolean
        supportsDocuments:
          default: false
          description: Supports documents
          type: boolean
        description:
          description: Description
          type: string
        tags:
          description: Tags
          items:
            type: string
          type: array
      required:
      - baseUrl
      - name
      type: object
    ProviderHealth:
      properties:
        healthy:
          description: Whether healthy
          type: boolean
        latency:
          description: Latency (ms)
          nullable: true
          type: number
        error:
          description: Error message
          nullable: true
          type: string
      required:
      - error
      - healthy
      - latency
      type: object
    LogEntry:
      properties:
        time:
          description: Timestamp (ms)
          type: number
        level:
          description: Log level
          enum:
          - debug
          - info
          - warn
          - error
          type: string
        module:
          description: Module name
          type: string
        msg:
          description: Log message
          type: string
      required:
      - level
      - module
      - msg
      - time
      type: object
    DeadLetter:
      properties:
        id:
          description: Dead letter UUID
          format: uuid
          type: string
        eventId:
          description: Original event UUID
          format: uuid
          type: string
        eventType:
          description: Event type
          type: string
        status:
          description: Status
          enum:
          - pending
          - retrying
          - resolved
          - abandoned
          type: string
        errorMessage:
          description: Error message
          type: string
        errorStack:
          description: Error stack trace
          nullable: true
          type: string
        retryCount:
          description: Retry attempts
          type: integer
        lastRetryAt:
          description: Last retry timestamp
          format: date-time
          nullable: true
          type: string
        resolvedAt:
          description: Resolution timestamp
          format: date-time
          nullable: true
          type: string
        resolutionNote:
          description: Resolution note
          nullable: true
          type: string
        createdAt:
          description: Creation timestamp
          format: date-time
          type: string
      required:
      - createdAt
      - errorMessage
      - errorStack
      - eventId
      - eventType
      - id
      - lastRetryAt
      - resolutionNote
      - resolvedAt
      - retryCount
      - status
      type: object
    DeadLetterStats:
      properties:
        total:
          description: Total count
          type: integer
        pending:
          description: Pending count
          type: integer
        retrying:
          description: Retrying count
          type: integer
        resolved:
          description: Resolved count
          type: integer
        abandoned:
          description: Abandoned count
          type: integer
        byEventType:
          additionalProperties:
            type: number
          description: Count by event type
          type: object
      required:
      - abandoned
      - byEventType
      - pending
      - resolved
      - retrying
      - total
      type: object
    ResolveDeadLetterRequest:
      example:
        note: note
      properties:
        note:
          description: Resolution note
          maxLength: 500
          minLength: 1
          type: string
      required:
      - note
      type: object
    ReplayOptions:
      properties:
        since:
          description: Start date (required)
          format: date-time
          type: string
        until:
          description: End date
          format: date-time
          type: string
        eventTypes:
          description: Event types to replay
          items:
            type: string
          type: array
        instanceId:
          description: Filter by instance
          format: uuid
          type: string
        limit:
          description: Max events
          exclusiveMinimum: true
          maximum: 100000
          minimum: 0
          type: integer
        speedMultiplier:
          description: Replay speed
          maximum: 100
          minimum: 0
          type: number
        skipProcessed:
          description: Skip already processed
          type: boolean
        dryRun:
          description: Dry run mode
          type: boolean
      required:
      - since
      type: object
    ReplaySession:
      properties:
        id:
          description: Session UUID
          format: uuid
          type: string
        status:
          description: Status
          enum:
          - running
          - completed
          - cancelled
          - failed
          type: string
        options:
          $ref: "#/components/schemas/listReplaySessions_200_response_items_inner_options"
        progress:
          $ref: "#/components/schemas/listReplaySessions_200_response_items_inner_progress"
      required:
      - id
      - options
      - progress
      - status
      type: object
    EventMetrics:
      properties:
        total:
          description: Total events
          type: integer
        today:
          description: Events today
          type: integer
        byType:
          additionalProperties:
            type: number
          description: Count by type
          type: object
        byChannel:
          additionalProperties:
            type: number
          description: Count by channel
          type: object
        avgProcessingTime:
          description: Avg processing time (ms)
          type: number
      required:
      - avgProcessingTime
      - byChannel
      - byType
      - today
      - total
      type: object
    ScheduledOpsResult:
      properties:
        deadLetterRetry:
          $ref: "#/components/schemas/runScheduledOps_200_response_data_deadLetterRetry"
        payloadCleanup:
          $ref: "#/components/schemas/runScheduledOps_200_response_data_payloadCleanup"
      required:
      - deadLetterRetry
      - payloadCleanup
      type: object
    Automation:
      properties:
        id:
          description: Automation UUID
          format: uuid
          type: string
        name:
          description: Name
          type: string
        description:
          description: Description
          nullable: true
          type: string
        triggerEventType:
          description: Trigger event type
          type: string
        triggerConditions:
          description: Conditions
          items:
            $ref: "#/components/schemas/listAutomations_200_response_items_inner_triggerConditions_inner"
          nullable: true
          type: array
        conditionLogic:
          description: Condition logic
          enum:
          - and
          - or
          nullable: true
          type: string
        actions:
          description: Actions
          items:
            $ref: "#/components/schemas/listAutomations_200_response_items_inner_actions_inner"
          type: array
        debounce:
          $ref: "#/components/schemas/listAutomations_200_response_items_inner_debounce"
        enabled:
          description: Whether enabled
          type: boolean
        priority:
          description: Priority
          type: integer
        createdAt:
          description: Creation timestamp
          format: date-time
          type: string
        updatedAt:
          description: Last update timestamp
          format: date-time
          type: string
      required:
      - actions
      - conditionLogic
      - createdAt
      - debounce
      - description
      - enabled
      - id
      - name
      - priority
      - triggerConditions
      - triggerEventType
      - updatedAt
      type: object
    CreateAutomationRequest:
      example:
        debounce:
          mode: none
          maxWaitMs: 5
          delayMs: 0
          extendOnEvents:
          - extendOnEvents
          - extendOnEvents
          maxMs: 1
          minMs: 6
          baseDelayMs: 5
        triggerConditions:
        - field: field
          value: ""
          operator: eq
        - field: field
          value: ""
          operator: eq
        name: name
        description: description
        triggerEventType: triggerEventType
        conditionLogic: and
        priority: 2
        actions:
        - type: webhook
          config:
            responseAs: responseAs
            headers:
              key: headers
            method: POST
            bodyTemplate: bodyTemplate
            waitForResponse: false
            timeoutMs: 0
            url: url
        - type: webhook
          config:
            responseAs: responseAs
            headers:
              key: headers
            method: POST
            bodyTemplate: bodyTemplate
            waitForResponse: false
            timeoutMs: 0
            url: url
        enabled: true
      properties:
        name:
          description: Name
          maxLength: 255
          minLength: 1
          type: string
        description:
          description: Description
          type: string
        triggerEventType:
          description: Trigger event type
          minLength: 1
          type: string
        triggerConditions:
          description: Conditions
          items:
            $ref: "#/components/schemas/listAutomations_200_response_items_inner_triggerConditions_inner"
          type: array
        conditionLogic:
          default: and
          description: "Condition logic: \"and\" (all must match) or \"or\" (any must\
            \ match)"
          enum:
          - and
          - or
          type: string
        actions:
          description: Actions
          items:
            $ref: "#/components/schemas/listAutomations_200_response_items_inner_actions_inner"
          minItems: 1
          type: array
        debounce:
          $ref: "#/components/schemas/createAutomation_request_debounce"
        enabled:
          default: true
          description: Whether enabled
          type: boolean
        priority:
          default: 0
          description: Priority
          type: integer
      required:
      - actions
      - name
      - triggerEventType
      type: object
    AutomationLog:
      properties:
        id:
          description: Log UUID
          format: uuid
          type: string
        automationId:
          description: Automation UUID
          format: uuid
          type: string
        eventId:
          description: Event UUID
          format: uuid
          type: string
        eventType:
          description: Event type
          type: string
        status:
          description: Execution status
          enum:
          - success
          - failed
          - skipped
          type: string
        error:
          description: Error message
          nullable: true
          type: string
        executedAt:
          description: Execution timestamp
          format: date-time
          type: string
        durationMs:
          description: Duration (ms)
          type: integer
      required:
      - automationId
      - durationMs
      - error
      - eventId
      - eventType
      - executedAt
      - id
      - status
      type: object
    TestAutomationRequest:
      example:
        event:
          payload:
            key: ""
          type: type
      properties:
        event:
          $ref: "#/components/schemas/testAutomation_request_event"
      required:
      - event
      type: object
    AutomationMetrics:
      properties:
        running:
          description: Engine running
          type: boolean
        totalAutomations:
          description: Total automations
          type: integer
        enabledAutomations:
          description: Enabled automations
          type: integer
        eventsProcessed:
          description: Events processed
          type: integer
        actionsExecuted:
          description: Actions executed
          type: integer
        failedActions:
          description: Failed actions
          type: integer
      required:
      - actionsExecuted
      - enabledAutomations
      - eventsProcessed
      - failedActions
      - running
      - totalAutomations
      type: object
    PayloadMetadata:
      properties:
        id:
          description: Payload UUID
          format: uuid
          type: string
        eventId:
          description: Event UUID
          format: uuid
          type: string
        stage:
          description: Payload stage
          enum:
          - webhook_raw
          - agent_request
          - agent_response
          - channel_send
          - error
          type: string
        mimeType:
          description: MIME type
          type: string
        sizeBytes:
          description: Size in bytes
          type: integer
        hasData:
          description: Whether data is available
          type: boolean
        createdAt:
          description: Creation timestamp
          format: date-time
          type: string
      required:
      - createdAt
      - eventId
      - hasData
      - id
      - mimeType
      - sizeBytes
      - stage
      type: object
    PayloadWithData:
      properties:
        id:
          description: Payload UUID
          format: uuid
          type: string
        eventId:
          description: Event UUID
          format: uuid
          type: string
        stage:
          description: Payload stage
          enum:
          - webhook_raw
          - agent_request
          - agent_response
          - channel_send
          - error
          type: string
        mimeType:
          description: MIME type
          type: string
        sizeBytes:
          description: Size in bytes
          type: integer
        hasData:
          description: Whether data is available
          type: boolean
        createdAt:
          description: Creation timestamp
          format: date-time
          type: string
        payload:
          description: Decompressed payload data
          nullable: true
      required:
      - createdAt
      - eventId
      - hasData
      - id
      - mimeType
      - sizeBytes
      - stage
      type: object
    PayloadConfig:
      properties:
        eventType:
          description: Event type pattern
          type: string
        storeWebhookRaw:
          description: Store webhook raw
          type: boolean
        storeAgentRequest:
          description: Store agent request
          type: boolean
        storeAgentResponse:
          description: Store agent response
          type: boolean
        storeChannelSend:
          description: Store channel send
          type: boolean
        storeError:
          description: Store errors
          type: boolean
        retentionDays:
          description: Retention in days
          type: integer
      required:
      - eventType
      - retentionDays
      - storeAgentRequest
      - storeAgentResponse
      - storeChannelSend
      - storeError
      - storeWebhookRaw
      type: object
    UpdatePayloadConfigRequest:
      example:
        storeError: true
        storeAgentRequest: true
        storeAgentResponse: true
        retentionDays: 30
        storeChannelSend: true
        storeWebhookRaw: true
      properties:
        storeWebhookRaw:
          description: Store webhook raw
          type: boolean
        storeAgentRequest:
          description: Store agent request
          type: boolean
        storeAgentResponse:
          description: Store agent response
          type: boolean
        storeChannelSend:
          description: Store channel send
          type: boolean
        storeError:
          description: Store errors
          type: boolean
        retentionDays:
          description: Retention in days
          maximum: 365
          minimum: 1
          type: integer
      type: object
    DeletePayloadsRequest:
      properties:
        reason:
          description: Deletion reason
          maxLength: 255
          minLength: 1
          type: string
      required:
      - reason
      type: object
    PayloadStats:
      properties:
        totalPayloads:
          description: Total payloads
          type: integer
        totalSizeBytes:
          description: Total size
          type: integer
        byStage:
          $ref: "#/components/schemas/getPayloadStats_200_response_data_byStage"
        oldestPayload:
          description: Oldest payload date
          format: date-time
          nullable: true
          type: string
      required:
      - byStage
      - oldestPayload
      - totalPayloads
      - totalSizeBytes
      type: object
    validateApiKey_200_response_data:
      example:
        valid: true
        keyName: primary
        scopes:
        - '*'
        keyPrefix: omni_sk_abc12345...
      properties:
        valid:
          description: Whether the API key is valid
          type: boolean
        keyPrefix:
          description: Truncated key prefix for identification
          example: omni_sk_abc12345...
          type: string
        keyName:
          description: Key name (primary or custom name)
          example: primary
          type: string
        scopes:
          description: Scopes granted to this key
          example:
          - '*'
          items:
            type: string
          type: array
      required:
      - keyName
      - keyPrefix
      - scopes
      - valid
      type: object
    validateApiKey_200_response:
      example:
        data:
          valid: true
          keyName: primary
          scopes:
          - '*'
          keyPrefix: omni_sk_abc12345...
      properties:
        data:
          $ref: "#/components/schemas/validateApiKey_200_response_data"
      required:
      - data
      type: object
    validateApiKey_401_response_error:
      example:
        code: code
        message: message
      properties:
        code:
          type: string
        message:
          type: string
      required:
      - code
      - message
      type: object
    validateApiKey_401_response:
      example:
        error:
          code: code
          message: message
      properties:
        error:
          $ref: "#/components/schemas/validateApiKey_401_response_error"
      required:
      - error
      type: object
    getHealth_200_response_checks_database:
      example:
        latency: 6.027456183070403
        details:
          key: ""
        error: error
        status: ok
      properties:
        status:
          description: Check status
          enum:
          - ok
          - error
          type: string
        latency:
          description: Latency in milliseconds
          type: number
        error:
          description: Error message if status is error
          type: string
        details:
          additionalProperties:
            nullable: true
          description: Additional details
          type: object
      required:
      - status
      type: object
    getHealth_200_response_checks:
      example:
        nats:
          latency: 6.027456183070403
          details:
            key: ""
          error: error
          status: ok
        database:
          latency: 6.027456183070403
          details:
            key: ""
          error: error
          status: ok
      properties:
        database:
          $ref: "#/components/schemas/getHealth_200_response_checks_database"
        nats:
          $ref: "#/components/schemas/getHealth_200_response_checks_database"
      required:
      - database
      - nats
      type: object
    getHealth_200_response_instances:
      example:
        connected: 5
        total: 1
        byChannel:
          key: 5.637376656633329
      properties:
        total:
          description: Total instance count
          type: integer
        connected:
          description: Connected instance count
          type: integer
        byChannel:
          additionalProperties:
            type: number
          description: Count by channel type
          type: object
      required:
      - byChannel
      - connected
      - total
      type: object
    getHealth_200_response:
      example:
        checks:
          nats:
            latency: 6.027456183070403
            details:
              key: ""
            error: error
            status: ok
          database:
            latency: 6.027456183070403
            details:
              key: ""
            error: error
            status: ok
        instances:
          connected: 5
          total: 1
          byChannel:
            key: 5.637376656633329
        version: version
        status: healthy
        uptime: 0
        timestamp: 2000-01-23T04:56:07.000+00:00
      properties:
        status:
          description: Overall health status
          enum:
          - healthy
          - degraded
          - unhealthy
          type: string
        version:
          description: API version
          type: string
        uptime:
          description: Uptime in seconds
          type: integer
        timestamp:
          description: Current timestamp
          format: date-time
          type: string
        checks:
          $ref: "#/components/schemas/getHealth_200_response_checks"
        instances:
          $ref: "#/components/schemas/getHealth_200_response_instances"
      required:
      - checks
      - status
      - timestamp
      - uptime
      - version
      type: object
    getInfo_200_response_instances:
      example:
        connected: 1
        total: 6
      properties:
        total:
          type: integer
        connected:
          type: integer
      required:
      - connected
      - total
      type: object
    getInfo_200_response_events:
      example:
        total: 5
        today: 5
      properties:
        today:
          type: integer
        total:
          type: integer
      required:
      - today
      - total
      type: object
    getInfo_200_response:
      example:
        environment: environment
        instances:
          connected: 1
          total: 6
        version: version
        events:
          total: 5
          today: 5
        uptime: 0
      properties:
        version:
          description: API version
          type: string
        environment:
          description: Environment
          type: string
        uptime:
          description: Uptime in seconds
          type: integer
        instances:
          $ref: "#/components/schemas/getInfo_200_response_instances"
        events:
          $ref: "#/components/schemas/getInfo_200_response_events"
      required:
      - environment
      - events
      - instances
      - uptime
      - version
      type: object
    getInternalHealth_200_response_memory:
      example:
        heapUsed: 5.962133916683182
        external: 5.637376656633329
        rss: 6.027456183070403
        heapTotal: 1.4658129805029452
        arrayBuffers: 2.3021358869347655
      properties:
        rss:
          type: number
        heapTotal:
          type: number
        heapUsed:
          type: number
        external:
          type: number
        arrayBuffers:
          type: number
      required:
      - arrayBuffers
      - external
      - heapTotal
      - heapUsed
      - rss
      type: object
    getInternalHealth_200_response:
      example:
        memory:
          heapUsed: 5.962133916683182
          external: 5.637376656633329
          rss: 6.027456183070403
          heapTotal: 1.4658129805029452
          arrayBuffers: 2.3021358869347655
        service: service
        pid: 0
        status: status
      properties:
        status:
          description: Health status
          type: string
        service:
          description: Service name
          type: string
        pid:
          description: Process ID
          type: integer
        memory:
          $ref: "#/components/schemas/getInternalHealth_200_response_memory"
      required:
      - memory
      - pid
      - service
      - status
      type: object
    listInstances_200_response_items_inner:
      example:
        profileName: profileName
        agentProviderId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        agentId: agentId
        channel: whatsapp-baileys
        isActive: true
        ownerIdentifier: ownerIdentifier
        createdAt: 2000-01-23T04:56:07.000+00:00
        isDefault: true
        profilePicUrl: profilePicUrl
        agentStreamMode: true
        name: name
        agentTimeout: 0.8008281904610115
        id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        id:
          description: Instance UUID
          format: uuid
          type: string
        name:
          description: Instance name
          type: string
        channel:
          description: Channel type
          enum:
          - whatsapp-baileys
          - whatsapp-cloud
          - discord
          - slack
          - telegram
          type: string
        isActive:
          description: Whether instance is active
          type: boolean
        isDefault:
          description: Whether this is the default instance for channel
          type: boolean
        profileName:
          description: Connected profile name
          nullable: true
          type: string
        profilePicUrl:
          description: Profile picture URL
          nullable: true
          type: string
        ownerIdentifier:
          description: Owner identifier
          nullable: true
          type: string
        agentProviderId:
          description: Agent provider UUID
          format: uuid
          nullable: true
          type: string
        agentId:
          description: Agent ID
          nullable: true
          type: string
        agentTimeout:
          description: Agent timeout in seconds
          type: number
        agentStreamMode:
          description: Whether streaming is enabled
          type: boolean
        createdAt:
          description: Creation timestamp
          format: date-time
          type: string
        updatedAt:
          description: Last update timestamp
          format: date-time
          type: string
      required:
      - agentId
      - agentProviderId
      - agentStreamMode
      - agentTimeout
      - channel
      - createdAt
      - id
      - isActive
      - isDefault
      - name
      - ownerIdentifier
      - profileName
      - profilePicUrl
      - updatedAt
      type: object
    listInstances_200_response_meta:
      example:
        cursor: cursor
        hasMore: true
      properties:
        hasMore:
          description: Whether there are more items
          type: boolean
        cursor:
          description: Cursor for next page
          nullable: true
          type: string
      required:
      - cursor
      - hasMore
      type: object
    listInstances_200_response:
      example:
        meta:
          cursor: cursor
          hasMore: true
        items:
        - profileName: profileName
          agentProviderId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          agentId: agentId
          channel: whatsapp-baileys
          isActive: true
          ownerIdentifier: ownerIdentifier
          createdAt: 2000-01-23T04:56:07.000+00:00
          isDefault: true
          profilePicUrl: profilePicUrl
          agentStreamMode: true
          name: name
          agentTimeout: 0.8008281904610115
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          updatedAt: 2000-01-23T04:56:07.000+00:00
        - profileName: profileName
          agentProviderId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          agentId: agentId
          channel: whatsapp-baileys
          isActive: true
          ownerIdentifier: ownerIdentifier
          createdAt: 2000-01-23T04:56:07.000+00:00
          isDefault: true
          profilePicUrl: profilePicUrl
          agentStreamMode: true
          name: name
          agentTimeout: 0.8008281904610115
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        items:
          items:
            $ref: "#/components/schemas/listInstances_200_response_items_inner"
          type: array
        meta:
          $ref: "#/components/schemas/listInstances_200_response_meta"
      required:
      - items
      - meta
      type: object
    createInstance_request:
      properties:
        name:
          description: Unique name for the instance
          maxLength: 255
          minLength: 1
          type: string
        channel:
          description: Channel type
          enum:
          - whatsapp-baileys
          - whatsapp-cloud
          - discord
          - slack
          - telegram
          type: string
        agentProviderId:
          description: Reference to agent provider
          format: uuid
          type: string
        agentId:
          default: default
          description: Agent ID within the provider
          maxLength: 255
          type: string
        agentTimeout:
          default: 60
          description: Agent timeout in seconds
          exclusiveMinimum: true
          minimum: 0
          type: integer
        agentStreamMode:
          default: false
          description: Enable streaming responses
          type: boolean
        isDefault:
          default: false
          description: Set as default instance for channel
          type: boolean
        token:
          description: Bot token for Discord instances
          type: string
      required:
      - channel
      - name
      type: object
    createInstance_201_response:
      example:
        data:
          profileName: profileName
          agentProviderId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          agentId: agentId
          channel: whatsapp-baileys
          isActive: true
          ownerIdentifier: ownerIdentifier
          createdAt: 2000-01-23T04:56:07.000+00:00
          isDefault: true
          profilePicUrl: profilePicUrl
          agentStreamMode: true
          name: name
          agentTimeout: 0.8008281904610115
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        data:
          $ref: "#/components/schemas/listInstances_200_response_items_inner"
      required:
      - data
      type: object
    createInstance_400_response_error:
      example:
        code: NOT_FOUND
        details: ""
        message: message
      properties:
        code:
          description: Error code
          example: NOT_FOUND
          type: string
        message:
          description: Human-readable error message
          type: string
        details:
          description: Additional error details
          nullable: true
      required:
      - code
      - message
      type: object
    createInstance_400_response:
      example:
        error:
          code: NOT_FOUND
          details: ""
          message: message
      properties:
        error:
          $ref: "#/components/schemas/createInstance_400_response_error"
      required:
      - error
      type: object
    listSupportedChannels_200_response_items_inner:
      example:
        loaded: true
        capabilities:
          key: ""
        name: name
        description: description
        id: whatsapp-baileys
        version: version
      properties:
        id:
          description: Channel type ID
          enum:
          - whatsapp-baileys
          - whatsapp-cloud
          - discord
          - slack
          - telegram
          type: string
        name:
          description: Human-readable channel name
          type: string
        version:
          description: Plugin version
          type: string
        description:
          description: Channel description
          type: string
        loaded:
          description: Whether plugin is loaded
          type: boolean
        capabilities:
          additionalProperties:
            nullable: true
          description: Plugin capabilities
          type: object
      required:
      - id
      - loaded
      - name
      type: object
    listSupportedChannels_200_response:
      example:
        items:
        - loaded: true
          capabilities:
            key: ""
          name: name
          description: description
          id: whatsapp-baileys
          version: version
        - loaded: true
          capabilities:
            key: ""
          name: name
          description: description
          id: whatsapp-baileys
          version: version
      properties:
        items:
          items:
            $ref: "#/components/schemas/listSupportedChannels_200_response_items_inner"
          type: array
      required:
      - items
      type: object
    deleteInstance_200_response:
      example:
        success: true
        message: message
      properties:
        success:
          description: Operation succeeded
          type: boolean
        message:
          description: Optional success message
          type: string
      required:
      - success
      type: object
    updateInstance_request:
      properties:
        name:
          description: Unique name for the instance
          maxLength: 255
          minLength: 1
          type: string
        channel:
          description: Channel type
          enum:
          - whatsapp-baileys
          - whatsapp-cloud
          - discord
          - slack
          - telegram
          type: string
        agentProviderId:
          description: Reference to agent provider
          format: uuid
          type: string
        agentId:
          default: default
          description: Agent ID within the provider
          maxLength: 255
          type: string
        agentTimeout:
          default: 60
          description: Agent timeout in seconds
          exclusiveMinimum: true
          minimum: 0
          type: integer
        agentStreamMode:
          default: false
          description: Enable streaming responses
          type: boolean
        isDefault:
          default: false
          description: Set as default instance for channel
          type: boolean
        token:
          description: Bot token for Discord instances
          type: string
      type: object
    getInstanceStatus_200_response_data:
      example:
        profileName: profileName
        instanceId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        profilePicUrl: profilePicUrl
        connectedAt: 2000-01-23T04:56:07.000+00:00
        isConnected: true
        state: state
        ownerIdentifier: ownerIdentifier
        message: message
      properties:
        instanceId:
          description: Instance UUID
          format: uuid
          type: string
        state:
          description: Connection state
          type: string
        isConnected:
          description: Whether instance is connected
          type: boolean
        connectedAt:
          description: When connected
          format: date-time
          nullable: true
          type: string
        profileName:
          description: Profile name
          nullable: true
          type: string
        profilePicUrl:
          description: Profile picture URL
          nullable: true
          type: string
        ownerIdentifier:
          description: Owner identifier
          nullable: true
          type: string
        message:
          description: Status message
          type: string
      required:
      - connectedAt
      - instanceId
      - isConnected
      - ownerIdentifier
      - profileName
      - profilePicUrl
      - state
      type: object
    getInstanceStatus_200_response:
      example:
        data:
          profileName: profileName
          instanceId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          profilePicUrl: profilePicUrl
          connectedAt: 2000-01-23T04:56:07.000+00:00
          isConnected: true
          state: state
          ownerIdentifier: ownerIdentifier
          message: message
      properties:
        data:
          $ref: "#/components/schemas/getInstanceStatus_200_response_data"
      required:
      - data
      type: object
    getInstanceQr_200_response_data:
      example:
        qr: qr
        message: message
        expiresAt: 2000-01-23T04:56:07.000+00:00
      properties:
        qr:
          description: QR code string
          nullable: true
          type: string
        expiresAt:
          description: QR code expiration
          format: date-time
          nullable: true
          type: string
        message:
          description: Status message
          type: string
      required:
      - expiresAt
      - message
      - qr
      type: object
    getInstanceQr_200_response:
      example:
        data:
          qr: qr
          message: message
          expiresAt: 2000-01-23T04:56:07.000+00:00
      properties:
        data:
          $ref: "#/components/schemas/getInstanceQr_200_response_data"
      required:
      - data
      type: object
    requestPairingCode_request:
      properties:
        phoneNumber:
          description: Phone number in international format
          maxLength: 20
          minLength: 10
          type: string
      required:
      - phoneNumber
      type: object
    requestPairingCode_200_response_data:
      example:
        expiresIn: 0.8008281904610115
        code: code
        phoneNumber: phoneNumber
        message: message
      properties:
        code:
          description: Pairing code to enter on phone
          type: string
        phoneNumber:
          description: Masked phone number
          type: string
        message:
          description: Instructions for user
          type: string
        expiresIn:
          description: Seconds until code expires
          type: number
      required:
      - code
      - expiresIn
      - message
      - phoneNumber
      type: object
    requestPairingCode_200_response:
      example:
        data:
          expiresIn: 0.8008281904610115
          code: code
          phoneNumber: phoneNumber
          message: message
      properties:
        data:
          $ref: "#/components/schemas/requestPairingCode_200_response_data"
      required:
      - data
      type: object
    connectInstance_request:
      properties:
        token:
          description: Bot token for Discord instances
          type: string
        forceNewQr:
          description: Force new QR code for WhatsApp
          type: boolean
      type: object
    connectInstance_200_response_data:
      example:
        instanceId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        message: message
        status: status
      properties:
        instanceId:
          description: Instance UUID
          format: uuid
          type: string
        status:
          description: Connection status
          type: string
        message:
          description: Status message
          type: string
      required:
      - instanceId
      - message
      - status
      type: object
    connectInstance_200_response:
      example:
        data:
          instanceId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          message: message
          status: status
      properties:
        data:
          $ref: "#/components/schemas/connectInstance_200_response_data"
      required:
      - data
      type: object
    getUserProfile_200_response_data:
      example:
        platformUserId: platformUserId
        avatarUrl: avatarUrl
        phone: phone
        displayName: displayName
        bio: bio
        platformMetadata:
          key: ""
      properties:
        platformUserId:
          description: Platform user ID
          type: string
        displayName:
          description: Display name
          type: string
        avatarUrl:
          description: Avatar URL
          type: string
        bio:
          description: Bio/status
          type: string
        phone:
          description: Phone number
          type: string
        platformMetadata:
          additionalProperties:
            nullable: true
          description: Platform-specific data
          type: object
      required:
      - platformUserId
      type: object
    getUserProfile_200_response:
      example:
        data:
          platformUserId: platformUserId
          avatarUrl: avatarUrl
          phone: phone
          displayName: displayName
          bio: bio
          platformMetadata:
            key: ""
      properties:
        data:
          $ref: "#/components/schemas/getUserProfile_200_response_data"
      required:
      - data
      type: object
    listInstanceContacts_200_response_items_inner:
      example:
        platformUserId: platformUserId
        phone: phone
        avatarUrl: avatarUrl
        displayName: displayName
        isBusiness: true
        platformMetadata:
          key: ""
        isGroup: true
      properties:
        platformUserId:
          description: Platform user ID
          type: string
        displayName:
          description: Display name
          type: string
        phone:
          description: Phone number
          type: string
        avatarUrl:
          description: Avatar URL
          type: string
        isGroup:
          description: Whether this is a group
          type: boolean
        isBusiness:
          description: Whether this is a business account
          type: boolean
        platformMetadata:
          additionalProperties:
            nullable: true
          description: Platform-specific metadata
          type: object
      required:
      - isGroup
      - platformUserId
      type: object
    listInstanceContacts_200_response_meta:
      example:
        cursor: cursor
        hasMore: true
        totalFetched: 0.8008281904610115
      properties:
        totalFetched:
          type: number
        hasMore:
          type: boolean
        cursor:
          type: string
      required:
      - hasMore
      - totalFetched
      type: object
    listInstanceContacts_200_response:
      example:
        meta:
          cursor: cursor
          hasMore: true
          totalFetched: 0.8008281904610115
        items:
        - platformUserId: platformUserId
          phone: phone
          avatarUrl: avatarUrl
          displayName: displayName
          isBusiness: true
          platformMetadata:
            key: ""
          isGroup: true
        - platformUserId: platformUserId
          phone: phone
          avatarUrl: avatarUrl
          displayName: displayName
          isBusiness: true
          platformMetadata:
            key: ""
          isGroup: true
      properties:
        items:
          items:
            $ref: "#/components/schemas/listInstanceContacts_200_response_items_inner"
          type: array
        meta:
          $ref: "#/components/schemas/listInstanceContacts_200_response_meta"
      required:
      - items
      - meta
      type: object
    listInstanceGroups_200_response_items_inner:
      example:
        createdAt: 2000-01-23T04:56:07.000+00:00
        isReadOnly: true
        createdBy: createdBy
        memberCount: 0.8008281904610115
        name: name
        externalId: externalId
        description: description
        platformMetadata:
          key: ""
      properties:
        externalId:
          description: External group ID
          type: string
        name:
          description: Group name
          type: string
        description:
          description: Group description
          type: string
        memberCount:
          description: Number of members
          type: number
        createdAt:
          description: Creation timestamp
          format: date-time
          type: string
        createdBy:
          description: Creator ID
          type: string
        isReadOnly:
          description: Whether group is read-only
          type: boolean
        platformMetadata:
          additionalProperties:
            nullable: true
          description: Platform-specific metadata
          type: object
      required:
      - externalId
      type: object
    listInstanceGroups_200_response:
      example:
        meta:
          cursor: cursor
          hasMore: true
          totalFetched: 0.8008281904610115
        items:
        - createdAt: 2000-01-23T04:56:07.000+00:00
          isReadOnly: true
          createdBy: createdBy
          memberCount: 0.8008281904610115
          name: name
          externalId: externalId
          description: description
          platformMetadata:
            key: ""
        - createdAt: 2000-01-23T04:56:07.000+00:00
          isReadOnly: true
          createdBy: createdBy
          memberCount: 0.8008281904610115
          name: name
          externalId: externalId
          description: description
          platformMetadata:
            key: ""
      properties:
        items:
          items:
            $ref: "#/components/schemas/listInstanceGroups_200_response_items_inner"
          type: array
        meta:
          $ref: "#/components/schemas/listInstanceContacts_200_response_meta"
      required:
      - items
      - meta
      type: object
    sendTextMessage_request:
      properties:
        instanceId:
          description: Instance ID to send from
          format: uuid
          type: string
        to:
          description: Recipient (phone number or platform ID)
          minLength: 1
          type: string
        text:
          description: Message text
          minLength: 1
          type: string
        replyTo:
          description: Message ID to reply to
          type: string
      required:
      - instanceId
      - text
      - to
      type: object
    sendTextMessage_201_response_data:
      example:
        instanceId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        externalMessageId: externalMessageId
        messageId: messageId
        mediaType: mediaType
        to: to
        status: status
      properties:
        messageId:
          description: Internal message ID
          type: string
        externalMessageId:
          description: External platform message ID
          type: string
        status:
          description: Message status
          type: string
        instanceId:
          description: Instance UUID
          format: uuid
          type: string
        to:
          description: Recipient
          type: string
        mediaType:
          description: Media type if applicable
          type: string
      required:
      - externalMessageId
      - messageId
      - status
      type: object
    sendTextMessage_201_response:
      example:
        data:
          instanceId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          externalMessageId: externalMessageId
          messageId: messageId
          mediaType: mediaType
          to: to
          status: status
      properties:
        data:
          $ref: "#/components/schemas/sendTextMessage_201_response_data"
      required:
      - data
      type: object
    sendMediaMessage_request:
      properties:
        instanceId:
          description: Instance ID to send from
          format: uuid
          type: string
        to:
          description: Recipient
          minLength: 1
          type: string
        type:
          description: Media type
          enum:
          - image
          - audio
          - video
          - document
          type: string
        url:
          description: Media URL
          format: uri
          type: string
        base64:
          description: Base64 encoded media
          type: string
        filename:
          description: Filename for documents
          type: string
        caption:
          description: Caption for media
          type: string
        voiceNote:
          description: Send audio as voice note
          type: boolean
      required:
      - instanceId
      - to
      - type
      type: object
    sendReaction_request:
      properties:
        instanceId:
          description: Instance ID
          format: uuid
          type: string
        to:
          description: Chat ID
          minLength: 1
          type: string
        messageId:
          description: Message ID to react to
          minLength: 1
          type: string
        emoji:
          description: Emoji to react with
          minLength: 1
          type: string
      required:
      - emoji
      - instanceId
      - messageId
      - to
      type: object
    sendSticker_request:
      properties:
        instanceId:
          description: Instance ID
          format: uuid
          type: string
        to:
          description: Recipient
          minLength: 1
          type: string
        url:
          description: Sticker URL
          format: uri
          type: string
        base64:
          description: Base64 encoded sticker
          type: string
      required:
      - instanceId
      - to
      type: object
    sendContact_request_contact:
      example:
        phone: phone
        organization: organization
        name: name
        email: email
      properties:
        name:
          description: Contact name
          minLength: 1
          type: string
        phone:
          description: Phone number
          type: string
        email:
          description: Email address
          format: email
          type: string
        organization:
          description: Organization
          type: string
      required:
      - name
      type: object
    sendContact_request:
      properties:
        instanceId:
          description: Instance ID
          format: uuid
          type: string
        to:
          description: Recipient
          minLength: 1
          type: string
        contact:
          $ref: "#/components/schemas/sendContact_request_contact"
      required:
      - contact
      - instanceId
      - to
      type: object
    sendLocation_request:
      properties:
        instanceId:
          description: Instance ID
          format: uuid
          type: string
        to:
          description: Recipient
          minLength: 1
          type: string
        latitude:
          description: Latitude
          type: number
        longitude:
          description: Longitude
          type: number
        name:
          description: Location name
          type: string
        address:
          description: Address
          type: string
      required:
      - instanceId
      - latitude
      - longitude
      - to
      type: object
    sendPresence_request:
      properties:
        instanceId:
          description: Instance ID to send from
          format: uuid
          type: string
        to:
          description: Chat ID to show presence in
          minLength: 1
          type: string
        type:
          description: Presence type
          enum:
          - typing
          - recording
          - paused
          type: string
        duration:
          default: 5000
          description: "Duration in ms before auto-pause (default 5000, 0 = until\
            \ paused)"
          maximum: 30000
          minimum: 0
          type: integer
      required:
      - instanceId
      - to
      - type
      type: object
    sendPresence_200_response_data:
      example:
        duration: 0.8008281904610115
        instanceId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        chatId: chatId
        type: type
      properties:
        instanceId:
          description: Instance ID
          format: uuid
          type: string
        chatId:
          description: Chat ID where presence was sent
          type: string
        type:
          description: Presence type sent
          type: string
        duration:
          description: Duration in ms
          type: number
      required:
      - chatId
      - duration
      - instanceId
      - type
      type: object
    sendPresence_200_response:
      example:
        data:
          duration: 0.8008281904610115
          instanceId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          chatId: chatId
          type: type
        success: true
      properties:
        success:
          type: boolean
        data:
          $ref: "#/components/schemas/sendPresence_200_response_data"
      required:
      - data
      - success
      type: object
    markMessageRead_request:
      properties:
        instanceId:
          description: Instance ID
          format: uuid
          type: string
      required:
      - instanceId
      type: object
    markMessageRead_200_response_data:
      example:
        instanceId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        messageCount: 0.8008281904610115
        chatId: chatId
        externalMessageId: externalMessageId
        messageId: messageId
      properties:
        messageId:
          description: Internal message ID (if single message)
          type: string
        externalMessageId:
          description: External message ID
          type: string
        chatId:
          description: Chat ID
          type: string
        instanceId:
          description: Instance ID
          format: uuid
          type: string
        messageCount:
          description: Number of messages marked (batch only)
          type: number
      type: object
    markMessageRead_200_response:
      example:
        data:
          instanceId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          messageCount: 0.8008281904610115
          chatId: chatId
          externalMessageId: externalMessageId
          messageId: messageId
        success: true
      properties:
        success:
          type: boolean
        data:
          $ref: "#/components/schemas/markMessageRead_200_response_data"
      required:
      - data
      - success
      type: object
    markMessagesRead_request:
      properties:
        instanceId:
          description: Instance ID
          format: uuid
          type: string
        chatId:
          description: Chat ID containing the messages
          minLength: 1
          type: string
        messageIds:
          description: Message IDs to mark as read
          items:
            minLength: 1
            type: string
          maxItems: 100
          minItems: 1
          type: array
      required:
      - chatId
      - instanceId
      - messageIds
      type: object
    listEvents_200_response_items_inner:
      example:
        instanceId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        transcription: transcription
        imageDescription: imageDescription
        processedAt: 2000-01-23T04:56:07.000+00:00
        personId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        textContent: textContent
        id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        eventType: eventType
        receivedAt: 2000-01-23T04:56:07.000+00:00
        contentType: contentType
        direction: inbound
      properties:
        id:
          description: Event UUID
          format: uuid
          type: string
        eventType:
          description: Event type
          type: string
        contentType:
          description: Content type
          nullable: true
          type: string
        instanceId:
          description: Instance UUID
          format: uuid
          type: string
        personId:
          description: Person UUID
          format: uuid
          nullable: true
          type: string
        direction:
          description: Message direction
          enum:
          - inbound
          - outbound
          type: string
        textContent:
          description: Text content
          nullable: true
          type: string
        transcription:
          description: Audio transcription
          nullable: true
          type: string
        imageDescription:
          description: Image description
          nullable: true
          type: string
        receivedAt:
          description: When event was received
          format: date-time
          type: string
        processedAt:
          description: When event was processed
          format: date-time
          nullable: true
          type: string
      required:
      - contentType
      - direction
      - eventType
      - id
      - imageDescription
      - instanceId
      - personId
      - processedAt
      - receivedAt
      - textContent
      - transcription
      type: object
    listEvents_200_response_meta:
      example:
        cursor: cursor
        total: 0
        hasMore: true
      properties:
        hasMore:
          description: Whether there are more items
          type: boolean
        cursor:
          description: Cursor for next page
          nullable: true
          type: string
        total:
          type: integer
      required:
      - cursor
      - hasMore
      type: object
    listEvents_200_response:
      example:
        meta:
          cursor: cursor
          total: 0
          hasMore: true
        items:
        - instanceId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          transcription: transcription
          imageDescription: imageDescription
          processedAt: 2000-01-23T04:56:07.000+00:00
          personId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          textContent: textContent
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          eventType: eventType
          receivedAt: 2000-01-23T04:56:07.000+00:00
          contentType: contentType
          direction: inbound
        - instanceId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          transcription: transcription
          imageDescription: imageDescription
          processedAt: 2000-01-23T04:56:07.000+00:00
          personId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          textContent: textContent
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          eventType: eventType
          receivedAt: 2000-01-23T04:56:07.000+00:00
          contentType: contentType
          direction: inbound
      properties:
        items:
          items:
            $ref: "#/components/schemas/listEvents_200_response_items_inner"
          type: array
        meta:
          $ref: "#/components/schemas/listEvents_200_response_meta"
      required:
      - items
      - meta
      type: object
    getEventAnalytics_200_response_byDirection:
      example:
        inbound: 5
        outbound: 5
      properties:
        inbound:
          type: integer
        outbound:
          type: integer
      required:
      - inbound
      - outbound
      type: object
    getEventAnalytics_200_response:
      example:
        totalEvents: 0
        byChannel:
          key: 1.4658129805029452
        byEventType:
          key: 6.027456183070403
        byDirection:
          inbound: 5
          outbound: 5
      properties:
        totalEvents:
          description: Total event count
          type: integer
        byEventType:
          additionalProperties:
            type: number
          description: Count by event type
          type: object
        byChannel:
          additionalProperties:
            type: number
          description: Count by channel
          type: object
        byDirection:
          $ref: "#/components/schemas/getEventAnalytics_200_response_byDirection"
      required:
      - byChannel
      - byDirection
      - byEventType
      - totalEvents
      type: object
    getPersonTimeline_200_response:
      example:
        meta:
          cursor: cursor
          hasMore: true
        personId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        items:
        - instanceId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          transcription: transcription
          imageDescription: imageDescription
          processedAt: 2000-01-23T04:56:07.000+00:00
          personId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          textContent: textContent
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          eventType: eventType
          receivedAt: 2000-01-23T04:56:07.000+00:00
          contentType: contentType
          direction: inbound
        - instanceId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          transcription: transcription
          imageDescription: imageDescription
          processedAt: 2000-01-23T04:56:07.000+00:00
          personId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          textContent: textContent
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          eventType: eventType
          receivedAt: 2000-01-23T04:56:07.000+00:00
          contentType: contentType
          direction: inbound
      properties:
        personId:
          format: uuid
          type: string
        items:
          items:
            $ref: "#/components/schemas/listEvents_200_response_items_inner"
          type: array
        meta:
          $ref: "#/components/schemas/listInstances_200_response_meta"
      required:
      - items
      - meta
      - personId
      type: object
    searchEvents_request_filters:
      properties:
        channel:
          description: Channel types
          items:
            type: string
          type: array
        instanceId:
          description: Instance UUID
          format: uuid
          type: string
        personId:
          description: Person UUID
          format: uuid
          type: string
        eventType:
          description: Event types
          items:
            type: string
          type: array
        contentType:
          description: Content types
          items:
            type: string
          type: array
        direction:
          description: Direction
          enum:
          - inbound
          - outbound
          type: string
        since:
          description: Start date
          format: date-time
          type: string
        until:
          description: End date
          format: date-time
          type: string
      type: object
    searchEvents_request:
      properties:
        query:
          description: Full-text search query
          type: string
        filters:
          $ref: "#/components/schemas/searchEvents_request_filters"
        format:
          default: full
          description: Response format
          enum:
          - full
          - summary
          - agent
          type: string
        limit:
          default: 50
          description: Max results
          maximum: 100
          minimum: 1
          type: integer
      type: object
    searchEvents_200_response:
      example:
        summary: summary
        meta:
          cursor: cursor
          hasMore: true
        asContext: asContext
        items:
        - instanceId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          transcription: transcription
          imageDescription: imageDescription
          processedAt: 2000-01-23T04:56:07.000+00:00
          personId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          textContent: textContent
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          eventType: eventType
          receivedAt: 2000-01-23T04:56:07.000+00:00
          contentType: contentType
          direction: inbound
        - instanceId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          transcription: transcription
          imageDescription: imageDescription
          processedAt: 2000-01-23T04:56:07.000+00:00
          personId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          textContent: textContent
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          eventType: eventType
          receivedAt: 2000-01-23T04:56:07.000+00:00
          contentType: contentType
          direction: inbound
      properties:
        items:
          items:
            $ref: "#/components/schemas/listEvents_200_response_items_inner"
          type: array
        meta:
          $ref: "#/components/schemas/listInstances_200_response_meta"
        summary:
          type: string
        asContext:
          type: string
      required:
      - items
      - meta
      type: object
    getEvent_200_response:
      example:
        data:
          instanceId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          transcription: transcription
          imageDescription: imageDescription
          processedAt: 2000-01-23T04:56:07.000+00:00
          personId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          textContent: textContent
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          eventType: eventType
          receivedAt: 2000-01-23T04:56:07.000+00:00
          contentType: contentType
          direction: inbound
      properties:
        data:
          $ref: "#/components/schemas/listEvents_200_response_items_inner"
      required:
      - data
      type: object
    getEventsBySender_200_response_meta:
      example:
        total: 0
        hasMore: true
      properties:
        total:
          type: integer
        hasMore:
          type: boolean
      required:
      - hasMore
      - total
      type: object
    getEventsBySender_200_response:
      example:
        meta:
          total: 0
          hasMore: true
        items:
        - instanceId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          transcription: transcription
          imageDescription: imageDescription
          processedAt: 2000-01-23T04:56:07.000+00:00
          personId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          textContent: textContent
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          eventType: eventType
          receivedAt: 2000-01-23T04:56:07.000+00:00
          contentType: contentType
          direction: inbound
        - instanceId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          transcription: transcription
          imageDescription: imageDescription
          processedAt: 2000-01-23T04:56:07.000+00:00
          personId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          textContent: textContent
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          eventType: eventType
          receivedAt: 2000-01-23T04:56:07.000+00:00
          contentType: contentType
          direction: inbound
      properties:
        items:
          items:
            $ref: "#/components/schemas/listEvents_200_response_items_inner"
          type: array
        meta:
          $ref: "#/components/schemas/getEventsBySender_200_response_meta"
      required:
      - items
      - meta
      type: object
    searchPersons_200_response_items_inner:
      example:
        createdAt: 2000-01-23T04:56:07.000+00:00
        phone: phone
        displayName: displayName
        id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        email: email
        updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        id:
          description: Person UUID
          format: uuid
          type: string
        displayName:
          description: Display name
          nullable: true
          type: string
        email:
          description: Email address
          format: email
          nullable: true
          type: string
        phone:
          description: Phone number
          nullable: true
          type: string
        createdAt:
          description: Creation timestamp
          format: date-time
          type: string
        updatedAt:
          description: Last update timestamp
          format: date-time
          type: string
      required:
      - createdAt
      - displayName
      - email
      - id
      - phone
      - updatedAt
      type: object
    searchPersons_200_response:
      example:
        items:
        - createdAt: 2000-01-23T04:56:07.000+00:00
          phone: phone
          displayName: displayName
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          email: email
          updatedAt: 2000-01-23T04:56:07.000+00:00
        - createdAt: 2000-01-23T04:56:07.000+00:00
          phone: phone
          displayName: displayName
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          email: email
          updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        items:
          items:
            $ref: "#/components/schemas/searchPersons_200_response_items_inner"
          type: array
      required:
      - items
      type: object
    getPerson_200_response:
      example:
        data:
          createdAt: 2000-01-23T04:56:07.000+00:00
          phone: phone
          displayName: displayName
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          email: email
          updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        data:
          $ref: "#/components/schemas/searchPersons_200_response_items_inner"
      required:
      - data
      type: object
    getPersonPresence_200_response_data_identities_inner:
      example:
        lastSeenAt: 2000-01-23T04:56:07.000+00:00
        messageCount: 0
        profilePicUrl: profilePicUrl
        platformUserId: platformUserId
        displayName: displayName
        channel: channel
        personId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
      properties:
        id:
          description: Identity UUID
          format: uuid
          type: string
        personId:
          description: Person UUID
          format: uuid
          type: string
        channel:
          description: Channel type
          type: string
        platformUserId:
          description: Platform user ID
          type: string
        displayName:
          description: Display name
          nullable: true
          type: string
        profilePicUrl:
          description: Profile picture URL
          nullable: true
          type: string
        messageCount:
          description: Total messages
          type: integer
        lastSeenAt:
          description: Last seen timestamp
          format: date-time
          nullable: true
          type: string
      required:
      - channel
      - displayName
      - id
      - lastSeenAt
      - messageCount
      - personId
      - platformUserId
      - profilePicUrl
      type: object
    getPersonPresence_200_response_data_summary:
      example:
        lastSeenAt: 2000-01-23T04:56:07.000+00:00
        channels:
        - channels
        - channels
        totalMessages: 6
      properties:
        totalMessages:
          type: integer
        channels:
          items:
            type: string
          type: array
        lastSeenAt:
          format: date-time
          nullable: true
          type: string
      required:
      - channels
      - lastSeenAt
      - totalMessages
      type: object
    getPersonPresence_200_response_data_byChannel_value:
      example:
        lastSeenAt: 2000-01-23T04:56:07.000+00:00
        identities:
        - lastSeenAt: 2000-01-23T04:56:07.000+00:00
          messageCount: 0
          profilePicUrl: profilePicUrl
          platformUserId: platformUserId
          displayName: displayName
          channel: channel
          personId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        - lastSeenAt: 2000-01-23T04:56:07.000+00:00
          messageCount: 0
          profilePicUrl: profilePicUrl
          platformUserId: platformUserId
          displayName: displayName
          channel: channel
          personId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        messageCount: 1
      properties:
        identities:
          items:
            $ref: "#/components/schemas/getPersonPresence_200_response_data_identities_inner"
          type: array
        messageCount:
          type: integer
        lastSeenAt:
          format: date-time
          nullable: true
          type: string
      required:
      - identities
      - lastSeenAt
      - messageCount
      type: object
    getPersonPresence_200_response_data:
      example:
        summary:
          lastSeenAt: 2000-01-23T04:56:07.000+00:00
          channels:
          - channels
          - channels
          totalMessages: 6
        identities:
        - lastSeenAt: 2000-01-23T04:56:07.000+00:00
          messageCount: 0
          profilePicUrl: profilePicUrl
          platformUserId: platformUserId
          displayName: displayName
          channel: channel
          personId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        - lastSeenAt: 2000-01-23T04:56:07.000+00:00
          messageCount: 0
          profilePicUrl: profilePicUrl
          platformUserId: platformUserId
          displayName: displayName
          channel: channel
          personId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        person:
          createdAt: 2000-01-23T04:56:07.000+00:00
          phone: phone
          displayName: displayName
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          email: email
          updatedAt: 2000-01-23T04:56:07.000+00:00
        byChannel:
          key:
            lastSeenAt: 2000-01-23T04:56:07.000+00:00
            identities:
            - lastSeenAt: 2000-01-23T04:56:07.000+00:00
              messageCount: 0
              profilePicUrl: profilePicUrl
              platformUserId: platformUserId
              displayName: displayName
              channel: channel
              personId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
              id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            - lastSeenAt: 2000-01-23T04:56:07.000+00:00
              messageCount: 0
              profilePicUrl: profilePicUrl
              platformUserId: platformUserId
              displayName: displayName
              channel: channel
              personId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
              id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            messageCount: 1
      properties:
        person:
          $ref: "#/components/schemas/searchPersons_200_response_items_inner"
        identities:
          items:
            $ref: "#/components/schemas/getPersonPresence_200_response_data_identities_inner"
          type: array
        summary:
          $ref: "#/components/schemas/getPersonPresence_200_response_data_summary"
        byChannel:
          additionalProperties:
            $ref: "#/components/schemas/getPersonPresence_200_response_data_byChannel_value"
          type: object
      required:
      - byChannel
      - identities
      - person
      - summary
      type: object
    getPersonPresence_200_response:
      example:
        data:
          summary:
            lastSeenAt: 2000-01-23T04:56:07.000+00:00
            channels:
            - channels
            - channels
            totalMessages: 6
          identities:
          - lastSeenAt: 2000-01-23T04:56:07.000+00:00
            messageCount: 0
            profilePicUrl: profilePicUrl
            platformUserId: platformUserId
            displayName: displayName
            channel: channel
            personId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          - lastSeenAt: 2000-01-23T04:56:07.000+00:00
            messageCount: 0
            profilePicUrl: profilePicUrl
            platformUserId: platformUserId
            displayName: displayName
            channel: channel
            personId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          person:
            createdAt: 2000-01-23T04:56:07.000+00:00
            phone: phone
            displayName: displayName
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            email: email
            updatedAt: 2000-01-23T04:56:07.000+00:00
          byChannel:
            key:
              lastSeenAt: 2000-01-23T04:56:07.000+00:00
              identities:
              - lastSeenAt: 2000-01-23T04:56:07.000+00:00
                messageCount: 0
                profilePicUrl: profilePicUrl
                platformUserId: platformUserId
                displayName: displayName
                channel: channel
                personId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
                id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
              - lastSeenAt: 2000-01-23T04:56:07.000+00:00
                messageCount: 0
                profilePicUrl: profilePicUrl
                platformUserId: platformUserId
                displayName: displayName
                channel: channel
                personId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
                id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
              messageCount: 1
      properties:
        data:
          $ref: "#/components/schemas/getPersonPresence_200_response_data"
      required:
      - data
      type: object
    getPersonTimelineById_200_response:
      example:
        meta:
          cursor: cursor
          hasMore: true
        items:
        - ""
        - ""
      properties:
        items:
          items:
            nullable: true
          type: array
        meta:
          $ref: "#/components/schemas/listInstances_200_response_meta"
      required:
      - items
      - meta
      type: object
    linkIdentities_request:
      properties:
        identityA:
          description: First identity ID
          format: uuid
          type: string
        identityB:
          description: Second identity ID
          format: uuid
          type: string
      required:
      - identityA
      - identityB
      type: object
    unlinkIdentity_request:
      properties:
        identityId:
          description: Identity ID to unlink
          format: uuid
          type: string
        reason:
          description: Reason for unlinking
          minLength: 1
          type: string
      required:
      - identityId
      - reason
      type: object
    unlinkIdentity_200_response_data:
      example:
        person:
          createdAt: 2000-01-23T04:56:07.000+00:00
          phone: phone
          displayName: displayName
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          email: email
          updatedAt: 2000-01-23T04:56:07.000+00:00
        identity:
          lastSeenAt: 2000-01-23T04:56:07.000+00:00
          messageCount: 0
          profilePicUrl: profilePicUrl
          platformUserId: platformUserId
          displayName: displayName
          channel: channel
          personId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
      properties:
        person:
          $ref: "#/components/schemas/searchPersons_200_response_items_inner"
        identity:
          $ref: "#/components/schemas/getPersonPresence_200_response_data_identities_inner"
      required:
      - identity
      - person
      type: object
    unlinkIdentity_200_response:
      example:
        data:
          person:
            createdAt: 2000-01-23T04:56:07.000+00:00
            phone: phone
            displayName: displayName
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            email: email
            updatedAt: 2000-01-23T04:56:07.000+00:00
          identity:
            lastSeenAt: 2000-01-23T04:56:07.000+00:00
            messageCount: 0
            profilePicUrl: profilePicUrl
            platformUserId: platformUserId
            displayName: displayName
            channel: channel
            personId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
      properties:
        data:
          $ref: "#/components/schemas/unlinkIdentity_200_response_data"
      required:
      - data
      type: object
    mergePersons_request:
      properties:
        sourcePersonId:
          description: Person to merge from (will be deleted)
          format: uuid
          type: string
        targetPersonId:
          description: Person to merge into (will be kept)
          format: uuid
          type: string
        reason:
          description: Reason for merge
          type: string
      required:
      - sourcePersonId
      - targetPersonId
      type: object
    mergePersons_200_response_data:
      example:
        mergedIdentityIds:
        - 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        - 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        deletedPersonId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        person:
          createdAt: 2000-01-23T04:56:07.000+00:00
          phone: phone
          displayName: displayName
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          email: email
          updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        person:
          $ref: "#/components/schemas/searchPersons_200_response_items_inner"
        mergedIdentityIds:
          items:
            format: uuid
            type: string
          type: array
        deletedPersonId:
          format: uuid
          type: string
      required:
      - deletedPersonId
      - mergedIdentityIds
      - person
      type: object
    mergePersons_200_response:
      example:
        data:
          mergedIdentityIds:
          - 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          - 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          deletedPersonId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          person:
            createdAt: 2000-01-23T04:56:07.000+00:00
            phone: phone
            displayName: displayName
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            email: email
            updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        data:
          $ref: "#/components/schemas/mergePersons_200_response_data"
      required:
      - data
      type: object
    listWebhookSources_200_response_items_inner:
      example:
        expectedHeaders:
          key: true
        createdAt: 2000-01-23T04:56:07.000+00:00
        name: name
        description: description
        id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        enabled: true
        updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        id:
          description: Source UUID
          format: uuid
          type: string
        name:
          description: Source name
          type: string
        description:
          description: Description
          nullable: true
          type: string
        expectedHeaders:
          additionalProperties:
            type: boolean
          description: Expected headers
          nullable: true
          type: object
        enabled:
          description: Whether enabled
          type: boolean
        createdAt:
          description: Creation timestamp
          format: date-time
          type: string
        updatedAt:
          description: Last update timestamp
          format: date-time
          type: string
      required:
      - createdAt
      - description
      - enabled
      - expectedHeaders
      - id
      - name
      - updatedAt
      type: object
    listWebhookSources_200_response:
      example:
        items:
        - expectedHeaders:
            key: true
          createdAt: 2000-01-23T04:56:07.000+00:00
          name: name
          description: description
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          enabled: true
          updatedAt: 2000-01-23T04:56:07.000+00:00
        - expectedHeaders:
            key: true
          createdAt: 2000-01-23T04:56:07.000+00:00
          name: name
          description: description
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          enabled: true
          updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        items:
          items:
            $ref: "#/components/schemas/listWebhookSources_200_response_items_inner"
          type: array
      required:
      - items
      type: object
    createWebhookSource_request:
      properties:
        name:
          description: Unique source name
          maxLength: 100
          minLength: 1
          type: string
        description:
          description: Description
          type: string
        expectedHeaders:
          additionalProperties:
            type: boolean
          description: Headers to validate
          type: object
        enabled:
          default: true
          description: Whether enabled
          type: boolean
      required:
      - name
      type: object
    createWebhookSource_201_response:
      example:
        data:
          expectedHeaders:
            key: true
          createdAt: 2000-01-23T04:56:07.000+00:00
          name: name
          description: description
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          enabled: true
          updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        data:
          $ref: "#/components/schemas/listWebhookSources_200_response_items_inner"
      required:
      - data
      type: object
    updateWebhookSource_request:
      properties:
        name:
          description: Unique source name
          maxLength: 100
          minLength: 1
          type: string
        description:
          description: Description
          type: string
        expectedHeaders:
          additionalProperties:
            type: boolean
          description: Headers to validate
          type: object
        enabled:
          default: true
          description: Whether enabled
          type: boolean
      type: object
    receiveWebhook_200_response:
      example:
        eventId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        source: source
        eventType: eventType
      properties:
        eventId:
          description: Created event ID
          format: uuid
          type: string
        source:
          description: Webhook source name
          type: string
        eventType:
          description: Event type
          type: string
      required:
      - eventId
      - eventType
      - source
      type: object
    triggerEvent_request:
      properties:
        eventType:
          description: Event type (must start with custom.)
          minLength: 1
          type: string
        payload:
          additionalProperties:
            nullable: true
          description: Event payload
          type: object
        correlationId:
          description: Correlation ID
          type: string
        instanceId:
          description: Instance ID for context
          format: uuid
          type: string
      required:
      - eventType
      - payload
      type: object
    listAccessRules_200_response_items_inner:
      example:
        reason: reason
        phonePattern: phonePattern
        priority: 0
        enabled: true
        expiresAt: 2000-01-23T04:56:07.000+00:00
        createdAt: 2000-01-23T04:56:07.000+00:00
        instanceId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        platformUserId: platformUserId
        ruleType: allow
        blockMessage: blockMessage
        action: block
        personId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        id:
          description: Rule UUID
          format: uuid
          type: string
        instanceId:
          description: Instance UUID (null for global)
          format: uuid
          nullable: true
          type: string
        ruleType:
          description: Rule type
          enum:
          - allow
          - deny
          type: string
        phonePattern:
          description: Phone pattern
          nullable: true
          type: string
        platformUserId:
          description: Platform user ID
          nullable: true
          type: string
        personId:
          description: Person UUID
          format: uuid
          nullable: true
          type: string
        priority:
          description: Priority (higher = checked first)
          type: integer
        enabled:
          description: Whether enabled
          type: boolean
        reason:
          description: Reason
          nullable: true
          type: string
        expiresAt:
          description: Expiration
          format: date-time
          nullable: true
          type: string
        action:
          description: Action
          enum:
          - block
          - allow
          - silent_block
          type: string
        blockMessage:
          description: Custom block message
          nullable: true
          type: string
        createdAt:
          description: Creation timestamp
          format: date-time
          type: string
        updatedAt:
          description: Last update timestamp
          format: date-time
          type: string
      required:
      - action
      - blockMessage
      - createdAt
      - enabled
      - expiresAt
      - id
      - instanceId
      - personId
      - phonePattern
      - platformUserId
      - priority
      - reason
      - ruleType
      - updatedAt
      type: object
    listAccessRules_200_response:
      example:
        items:
        - reason: reason
          phonePattern: phonePattern
          priority: 0
          enabled: true
          expiresAt: 2000-01-23T04:56:07.000+00:00
          createdAt: 2000-01-23T04:56:07.000+00:00
          instanceId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          platformUserId: platformUserId
          ruleType: allow
          blockMessage: blockMessage
          action: block
          personId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          updatedAt: 2000-01-23T04:56:07.000+00:00
        - reason: reason
          phonePattern: phonePattern
          priority: 0
          enabled: true
          expiresAt: 2000-01-23T04:56:07.000+00:00
          createdAt: 2000-01-23T04:56:07.000+00:00
          instanceId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          platformUserId: platformUserId
          ruleType: allow
          blockMessage: blockMessage
          action: block
          personId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        items:
          items:
            $ref: "#/components/schemas/listAccessRules_200_response_items_inner"
          type: array
      required:
      - items
      type: object
    createAccessRule_request:
      properties:
        instanceId:
          description: Instance ID (null for global)
          format: uuid
          nullable: true
          type: string
        ruleType:
          description: Rule type
          enum:
          - allow
          - deny
          type: string
        phonePattern:
          description: Phone pattern with wildcards
          type: string
        platformUserId:
          description: Exact platform user ID
          type: string
        personId:
          description: Person ID
          format: uuid
          type: string
        priority:
          default: 0
          description: Priority
          type: integer
        enabled:
          default: true
          description: Whether enabled
          type: boolean
        reason:
          description: Reason
          type: string
        expiresAt:
          description: Expiration
          format: date-time
          type: string
        action:
          default: block
          description: Action
          enum:
          - block
          - allow
          - silent_block
          type: string
        blockMessage:
          description: Custom block message
          type: string
      required:
      - ruleType
      type: object
    createAccessRule_201_response:
      example:
        data:
          reason: reason
          phonePattern: phonePattern
          priority: 0
          enabled: true
          expiresAt: 2000-01-23T04:56:07.000+00:00
          createdAt: 2000-01-23T04:56:07.000+00:00
          instanceId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          platformUserId: platformUserId
          ruleType: allow
          blockMessage: blockMessage
          action: block
          personId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        data:
          $ref: "#/components/schemas/listAccessRules_200_response_items_inner"
      required:
      - data
      type: object
    updateAccessRule_request:
      properties:
        instanceId:
          description: Instance ID (null for global)
          format: uuid
          nullable: true
          type: string
        ruleType:
          description: Rule type
          enum:
          - allow
          - deny
          type: string
        phonePattern:
          description: Phone pattern with wildcards
          type: string
        platformUserId:
          description: Exact platform user ID
          type: string
        personId:
          description: Person ID
          format: uuid
          type: string
        priority:
          default: 0
          description: Priority
          type: integer
        enabled:
          default: true
          description: Whether enabled
          type: boolean
        reason:
          description: Reason
          type: string
        expiresAt:
          description: Expiration
          format: date-time
          type: string
        action:
          default: block
          description: Action
          enum:
          - block
          - allow
          - silent_block
          type: string
        blockMessage:
          description: Custom block message
          type: string
      type: object
    checkAccess_request:
      properties:
        instanceId:
          description: Instance ID
          format: uuid
          type: string
        platformUserId:
          description: Platform user ID
          type: string
        channel:
          description: Channel type
          type: string
      required:
      - channel
      - instanceId
      - platformUserId
      type: object
    checkAccess_200_response_data_rule:
      description: Matching rule if any
      example:
        reason: reason
        phonePattern: phonePattern
        priority: 0
        enabled: true
        expiresAt: 2000-01-23T04:56:07.000+00:00
        createdAt: 2000-01-23T04:56:07.000+00:00
        instanceId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        platformUserId: platformUserId
        ruleType: allow
        blockMessage: blockMessage
        action: block
        personId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        updatedAt: 2000-01-23T04:56:07.000+00:00
      nullable: true
      properties:
        id:
          description: Rule UUID
          format: uuid
          type: string
        instanceId:
          description: Instance UUID (null for global)
          format: uuid
          nullable: true
          type: string
        ruleType:
          description: Rule type
          enum:
          - allow
          - deny
          type: string
        phonePattern:
          description: Phone pattern
          nullable: true
          type: string
        platformUserId:
          description: Platform user ID
          nullable: true
          type: string
        personId:
          description: Person UUID
          format: uuid
          nullable: true
          type: string
        priority:
          description: Priority (higher = checked first)
          type: integer
        enabled:
          description: Whether enabled
          type: boolean
        reason:
          description: Reason
          nullable: true
          type: string
        expiresAt:
          description: Expiration
          format: date-time
          nullable: true
          type: string
        action:
          description: Action
          enum:
          - block
          - allow
          - silent_block
          type: string
        blockMessage:
          description: Custom block message
          nullable: true
          type: string
        createdAt:
          description: Creation timestamp
          format: date-time
          type: string
        updatedAt:
          description: Last update timestamp
          format: date-time
          type: string
      required:
      - action
      - blockMessage
      - createdAt
      - enabled
      - expiresAt
      - id
      - instanceId
      - personId
      - phonePattern
      - platformUserId
      - priority
      - reason
      - ruleType
      - updatedAt
      type: object
    checkAccess_200_response_data:
      example:
        reason: reason
        allowed: true
        rule:
          reason: reason
          phonePattern: phonePattern
          priority: 0
          enabled: true
          expiresAt: 2000-01-23T04:56:07.000+00:00
          createdAt: 2000-01-23T04:56:07.000+00:00
          instanceId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          platformUserId: platformUserId
          ruleType: allow
          blockMessage: blockMessage
          action: block
          personId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        allowed:
          description: Whether access is allowed
          type: boolean
        rule:
          $ref: "#/components/schemas/checkAccess_200_response_data_rule"
        reason:
          description: Reason for decision
          nullable: true
          type: string
      required:
      - allowed
      - reason
      - rule
      type: object
    checkAccess_200_response:
      example:
        data:
          reason: reason
          allowed: true
          rule:
            reason: reason
            phonePattern: phonePattern
            priority: 0
            enabled: true
            expiresAt: 2000-01-23T04:56:07.000+00:00
            createdAt: 2000-01-23T04:56:07.000+00:00
            instanceId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            platformUserId: platformUserId
            ruleType: allow
            blockMessage: blockMessage
            action: block
            personId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        data:
          $ref: "#/components/schemas/checkAccess_200_response_data"
      required:
      - data
      type: object
    listSettings_200_response_items_inner:
      example:
        createdAt: 2000-01-23T04:56:07.000+00:00
        isSecret: true
        description: description
        category: category
        value: ""
        key: key
        updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        key:
          description: Setting key
          type: string
        value:
          description: Setting value (masked if secret)
          nullable: true
        category:
          description: Category
          nullable: true
          type: string
        isSecret:
          description: Whether value is secret
          type: boolean
        description:
          description: Description
          nullable: true
          type: string
        createdAt:
          description: Creation timestamp
          format: date-time
          type: string
        updatedAt:
          description: Last update timestamp
          format: date-time
          type: string
      required:
      - category
      - createdAt
      - description
      - isSecret
      - key
      - updatedAt
      type: object
    listSettings_200_response:
      example:
        items:
        - createdAt: 2000-01-23T04:56:07.000+00:00
          isSecret: true
          description: description
          category: category
          value: ""
          key: key
          updatedAt: 2000-01-23T04:56:07.000+00:00
        - createdAt: 2000-01-23T04:56:07.000+00:00
          isSecret: true
          description: description
          category: category
          value: ""
          key: key
          updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        items:
          items:
            $ref: "#/components/schemas/listSettings_200_response_items_inner"
          type: array
      required:
      - items
      type: object
    bulkUpdateSettings_request:
      properties:
        settings:
          additionalProperties:
            nullable: true
          description: Key-value pairs
          type: object
        reason:
          description: Reason for changes (audit)
          type: string
      required:
      - settings
      type: object
    getSetting_200_response:
      example:
        data:
          createdAt: 2000-01-23T04:56:07.000+00:00
          isSecret: true
          description: description
          category: category
          value: ""
          key: key
          updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        data:
          $ref: "#/components/schemas/listSettings_200_response_items_inner"
      required:
      - data
      type: object
    setSetting_request:
      properties:
        value:
          description: Setting value
          nullable: true
        reason:
          description: Reason for change (audit)
          type: string
      type: object
    getSettingHistory_200_response_items_inner:
      example:
        newValue: newValue
        changeReason: changeReason
        changedBy: changedBy
        changedAt: 2000-01-23T04:56:07.000+00:00
        oldValue: oldValue
      properties:
        oldValue:
          description: Old value (masked)
          nullable: true
          type: string
        newValue:
          description: New value (masked)
          nullable: true
          type: string
        changedBy:
          description: Who made the change
          type: string
        changedAt:
          description: When changed
          format: date-time
          type: string
        changeReason:
          description: Reason for change
          nullable: true
          type: string
      required:
      - changeReason
      - changedAt
      - changedBy
      - newValue
      - oldValue
      type: object
    getSettingHistory_200_response:
      example:
        items:
        - newValue: newValue
          changeReason: changeReason
          changedBy: changedBy
          changedAt: 2000-01-23T04:56:07.000+00:00
          oldValue: oldValue
        - newValue: newValue
          changeReason: changeReason
          changedBy: changedBy
          changedAt: 2000-01-23T04:56:07.000+00:00
          oldValue: oldValue
      properties:
        items:
          items:
            $ref: "#/components/schemas/getSettingHistory_200_response_items_inner"
          type: array
      required:
      - items
      type: object
    listProviders_200_response_items_inner:
      example:
        schema: agnoos
        defaultTimeout: 0
        apiKey: apiKey
        description: description
        defaultStream: true
        isActive: true
        supportsDocuments: true
        tags:
        - tags
        - tags
        createdAt: 2000-01-23T04:56:07.000+00:00
        baseUrl: https://openapi-generator.tech
        supportsStreaming: true
        supportsImages: true
        schemaConfig:
          key: ""
        name: name
        id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        supportsAudio: true
        updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        id:
          description: Provider UUID
          format: uuid
          type: string
        name:
          description: Provider name
          type: string
        schema:
          description: Provider schema type
          enum:
          - agnoos
          - a2a
          - openai
          - anthropic
          - custom
          type: string
        baseUrl:
          description: Base URL
          format: uri
          type: string
        apiKey:
          description: API key (masked)
          nullable: true
          type: string
        schemaConfig:
          additionalProperties:
            nullable: true
          description: Schema config
          nullable: true
          type: object
        defaultStream:
          description: Default streaming
          type: boolean
        defaultTimeout:
          description: Default timeout (seconds)
          type: integer
        supportsStreaming:
          description: Supports streaming
          type: boolean
        supportsImages:
          description: Supports images
          type: boolean
        supportsAudio:
          description: Supports audio
          type: boolean
        supportsDocuments:
          description: Supports documents
          type: boolean
        description:
          description: Description
          nullable: true
          type: string
        tags:
          description: Tags
          items:
            type: string
          nullable: true
          type: array
        isActive:
          description: Whether active
          type: boolean
        createdAt:
          description: Creation timestamp
          format: date-time
          type: string
        updatedAt:
          description: Last update timestamp
          format: date-time
          type: string
      required:
      - apiKey
      - baseUrl
      - createdAt
      - defaultStream
      - defaultTimeout
      - description
      - id
      - isActive
      - name
      - schema
      - schemaConfig
      - supportsAudio
      - supportsDocuments
      - supportsImages
      - supportsStreaming
      - tags
      - updatedAt
      type: object
    listProviders_200_response:
      example:
        items:
        - schema: agnoos
          defaultTimeout: 0
          apiKey: apiKey
          description: description
          defaultStream: true
          isActive: true
          supportsDocuments: true
          tags:
          - tags
          - tags
          createdAt: 2000-01-23T04:56:07.000+00:00
          baseUrl: https://openapi-generator.tech
          supportsStreaming: true
          supportsImages: true
          schemaConfig:
            key: ""
          name: name
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          supportsAudio: true
          updatedAt: 2000-01-23T04:56:07.000+00:00
        - schema: agnoos
          defaultTimeout: 0
          apiKey: apiKey
          description: description
          defaultStream: true
          isActive: true
          supportsDocuments: true
          tags:
          - tags
          - tags
          createdAt: 2000-01-23T04:56:07.000+00:00
          baseUrl: https://openapi-generator.tech
          supportsStreaming: true
          supportsImages: true
          schemaConfig:
            key: ""
          name: name
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          supportsAudio: true
          updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        items:
          items:
            $ref: "#/components/schemas/listProviders_200_response_items_inner"
          type: array
      required:
      - items
      type: object
    createProvider_request:
      properties:
        name:
          description: Provider name
          maxLength: 255
          minLength: 1
          type: string
        schema:
          default: agnoos
          description: Schema type
          enum:
          - agnoos
          - a2a
          - openai
          - anthropic
          - custom
          type: string
        baseUrl:
          description: Base URL
          format: uri
          type: string
        apiKey:
          description: API key (encrypted)
          type: string
        schemaConfig:
          additionalProperties:
            nullable: true
          description: Schema config
          type: object
        defaultStream:
          default: true
          description: Default streaming
          type: boolean
        defaultTimeout:
          default: 60
          description: Default timeout
          exclusiveMinimum: true
          minimum: 0
          type: integer
        supportsStreaming:
          default: true
          description: Supports streaming
          type: boolean
        supportsImages:
          default: false
          description: Supports images
          type: boolean
        supportsAudio:
          default: false
          description: Supports audio
          type: boolean
        supportsDocuments:
          default: false
          description: Supports documents
          type: boolean
        description:
          description: Description
          type: string
        tags:
          description: Tags
          items:
            type: string
          type: array
      required:
      - baseUrl
      - name
      type: object
    createProvider_201_response:
      example:
        data:
          schema: agnoos
          defaultTimeout: 0
          apiKey: apiKey
          description: description
          defaultStream: true
          isActive: true
          supportsDocuments: true
          tags:
          - tags
          - tags
          createdAt: 2000-01-23T04:56:07.000+00:00
          baseUrl: https://openapi-generator.tech
          supportsStreaming: true
          supportsImages: true
          schemaConfig:
            key: ""
          name: name
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          supportsAudio: true
          updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        data:
          $ref: "#/components/schemas/listProviders_200_response_items_inner"
      required:
      - data
      type: object
    updateProvider_request:
      properties:
        name:
          description: Provider name
          maxLength: 255
          minLength: 1
          type: string
        schema:
          default: agnoos
          description: Schema type
          enum:
          - agnoos
          - a2a
          - openai
          - anthropic
          - custom
          type: string
        baseUrl:
          description: Base URL
          format: uri
          type: string
        apiKey:
          description: API key (encrypted)
          type: string
        schemaConfig:
          additionalProperties:
            nullable: true
          description: Schema config
          type: object
        defaultStream:
          default: true
          description: Default streaming
          type: boolean
        defaultTimeout:
          default: 60
          description: Default timeout
          exclusiveMinimum: true
          minimum: 0
          type: integer
        supportsStreaming:
          default: true
          description: Supports streaming
          type: boolean
        supportsImages:
          default: false
          description: Supports images
          type: boolean
        supportsAudio:
          default: false
          description: Supports audio
          type: boolean
        supportsDocuments:
          default: false
          description: Supports documents
          type: boolean
        description:
          description: Description
          type: string
        tags:
          description: Tags
          items:
            type: string
          type: array
      type: object
    checkProviderHealth_200_response:
      example:
        healthy: true
        latency: 0.8008281904610115
        error: error
      properties:
        healthy:
          description: Whether healthy
          type: boolean
        latency:
          description: Latency (ms)
          nullable: true
          type: number
        error:
          description: Error message
          nullable: true
          type: string
      required:
      - error
      - healthy
      - latency
      type: object
    listProviderAgents_200_response:
      example:
        message: message
        items:
        - ""
        - ""
      properties:
        items:
          items:
            nullable: true
          type: array
        message:
          type: string
      required:
      - items
      type: object
    getRecentLogs_200_response_items_inner:
      example:
        msg: msg
        level: debug
        module: module
        time: 0.8008281904610115
      properties:
        time:
          description: Timestamp (ms)
          type: number
        level:
          description: Log level
          enum:
          - debug
          - info
          - warn
          - error
          type: string
        module:
          description: Module name
          type: string
        msg:
          description: Log message
          type: string
      required:
      - level
      - module
      - msg
      - time
      type: object
    getRecentLogs_200_response_meta:
      example:
        total: 6
        limit: 5
        bufferSize: 1
      properties:
        total:
          type: integer
        bufferSize:
          type: integer
        limit:
          type: integer
      required:
      - bufferSize
      - limit
      - total
      type: object
    getRecentLogs_200_response:
      example:
        meta:
          total: 6
          limit: 5
          bufferSize: 1
        items:
        - msg: msg
          level: debug
          module: module
          time: 0.8008281904610115
        - msg: msg
          level: debug
          module: module
          time: 0.8008281904610115
      properties:
        items:
          items:
            $ref: "#/components/schemas/getRecentLogs_200_response_items_inner"
          type: array
        meta:
          $ref: "#/components/schemas/getRecentLogs_200_response_meta"
      required:
      - items
      - meta
      type: object
    listDeadLetters_200_response_items_inner:
      example:
        eventId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        createdAt: 2000-01-23T04:56:07.000+00:00
        lastRetryAt: 2000-01-23T04:56:07.000+00:00
        resolvedAt: 2000-01-23T04:56:07.000+00:00
        retryCount: 0
        errorMessage: errorMessage
        id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        eventType: eventType
        resolutionNote: resolutionNote
        errorStack: errorStack
        status: pending
      properties:
        id:
          description: Dead letter UUID
          format: uuid
          type: string
        eventId:
          description: Original event UUID
          format: uuid
          type: string
        eventType:
          description: Event type
          type: string
        status:
          description: Status
          enum:
          - pending
          - retrying
          - resolved
          - abandoned
          type: string
        errorMessage:
          description: Error message
          type: string
        errorStack:
          description: Error stack trace
          nullable: true
          type: string
        retryCount:
          description: Retry attempts
          type: integer
        lastRetryAt:
          description: Last retry timestamp
          format: date-time
          nullable: true
          type: string
        resolvedAt:
          description: Resolution timestamp
          format: date-time
          nullable: true
          type: string
        resolutionNote:
          description: Resolution note
          nullable: true
          type: string
        createdAt:
          description: Creation timestamp
          format: date-time
          type: string
      required:
      - createdAt
      - errorMessage
      - errorStack
      - eventId
      - eventType
      - id
      - lastRetryAt
      - resolutionNote
      - resolvedAt
      - retryCount
      - status
      type: object
    listDeadLetters_200_response:
      example:
        meta:
          cursor: cursor
          hasMore: true
        items:
        - eventId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          createdAt: 2000-01-23T04:56:07.000+00:00
          lastRetryAt: 2000-01-23T04:56:07.000+00:00
          resolvedAt: 2000-01-23T04:56:07.000+00:00
          retryCount: 0
          errorMessage: errorMessage
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          eventType: eventType
          resolutionNote: resolutionNote
          errorStack: errorStack
          status: pending
        - eventId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          createdAt: 2000-01-23T04:56:07.000+00:00
          lastRetryAt: 2000-01-23T04:56:07.000+00:00
          resolvedAt: 2000-01-23T04:56:07.000+00:00
          retryCount: 0
          errorMessage: errorMessage
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          eventType: eventType
          resolutionNote: resolutionNote
          errorStack: errorStack
          status: pending
      properties:
        items:
          items:
            $ref: "#/components/schemas/listDeadLetters_200_response_items_inner"
          type: array
        meta:
          $ref: "#/components/schemas/listInstances_200_response_meta"
      required:
      - items
      - meta
      type: object
    getDeadLetterStats_200_response_data:
      example:
        total: 0
        retrying: 1
        pending: 6
        byEventType:
          key: 2.3021358869347655
        abandoned: 5
        resolved: 5
      properties:
        total:
          description: Total count
          type: integer
        pending:
          description: Pending count
          type: integer
        retrying:
          description: Retrying count
          type: integer
        resolved:
          description: Resolved count
          type: integer
        abandoned:
          description: Abandoned count
          type: integer
        byEventType:
          additionalProperties:
            type: number
          description: Count by event type
          type: object
      required:
      - abandoned
      - byEventType
      - pending
      - resolved
      - retrying
      - total
      type: object
    getDeadLetterStats_200_response:
      example:
        data:
          total: 0
          retrying: 1
          pending: 6
          byEventType:
            key: 2.3021358869347655
          abandoned: 5
          resolved: 5
      properties:
        data:
          $ref: "#/components/schemas/getDeadLetterStats_200_response_data"
      required:
      - data
      type: object
    getDeadLetter_200_response:
      example:
        data:
          eventId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          createdAt: 2000-01-23T04:56:07.000+00:00
          lastRetryAt: 2000-01-23T04:56:07.000+00:00
          resolvedAt: 2000-01-23T04:56:07.000+00:00
          retryCount: 0
          errorMessage: errorMessage
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          eventType: eventType
          resolutionNote: resolutionNote
          errorStack: errorStack
          status: pending
      properties:
        data:
          $ref: "#/components/schemas/listDeadLetters_200_response_items_inner"
      required:
      - data
      type: object
    retryDeadLetter_200_response:
      example:
        deadLetterId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        success: true
        error: error
      properties:
        success:
          type: boolean
        deadLetterId:
          format: uuid
          type: string
        error:
          type: string
      required:
      - success
      type: object
    resolveDeadLetter_request:
      properties:
        note:
          description: Resolution note
          maxLength: 500
          minLength: 1
          type: string
      required:
      - note
      type: object
    getEventMetrics_200_response_data:
      example:
        total: 0
        avgProcessingTime: 5.637376656633329
        today: 6
        byChannel:
          key: 5.962133916683182
        byType:
          key: 1.4658129805029452
      properties:
        total:
          description: Total events
          type: integer
        today:
          description: Events today
          type: integer
        byType:
          additionalProperties:
            type: number
          description: Count by type
          type: object
        byChannel:
          additionalProperties:
            type: number
          description: Count by channel
          type: object
        avgProcessingTime:
          description: Avg processing time (ms)
          type: number
      required:
      - avgProcessingTime
      - byChannel
      - byType
      - today
      - total
      type: object
    getEventMetrics_200_response:
      example:
        data:
          total: 0
          avgProcessingTime: 5.637376656633329
          today: 6
          byChannel:
            key: 5.962133916683182
          byType:
            key: 1.4658129805029452
      properties:
        data:
          $ref: "#/components/schemas/getEventMetrics_200_response_data"
      required:
      - data
      type: object
    listReplaySessions_200_response_items_inner_options:
      example:
        instanceId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        skipProcessed: true
        dryRun: true
        speedMultiplier: 60.27456183070403
        limit: 8008
        until: 2000-01-23T04:56:07.000+00:00
        eventTypes:
        - eventTypes
        - eventTypes
        since: 2000-01-23T04:56:07.000+00:00
      properties:
        since:
          description: Start date (required)
          format: date-time
          type: string
        until:
          description: End date
          format: date-time
          type: string
        eventTypes:
          description: Event types to replay
          items:
            type: string
          type: array
        instanceId:
          description: Filter by instance
          format: uuid
          type: string
        limit:
          description: Max events
          exclusiveMinimum: true
          maximum: 100000
          minimum: 0
          type: integer
        speedMultiplier:
          description: Replay speed
          maximum: 100
          minimum: 0
          type: number
        skipProcessed:
          description: Skip already processed
          type: boolean
        dryRun:
          description: Dry run mode
          type: boolean
      required:
      - since
      type: object
    listReplaySessions_200_response_items_inner_progress:
      example:
        processed: 5
        total: 1
        completedAt: 2000-01-23T04:56:07.000+00:00
        startedAt: 2000-01-23T04:56:07.000+00:00
        failed: 5
      properties:
        total:
          type: integer
        processed:
          type: integer
        failed:
          type: integer
        startedAt:
          format: date-time
          type: string
        completedAt:
          format: date-time
          nullable: true
          type: string
      required:
      - completedAt
      - failed
      - processed
      - startedAt
      - total
      type: object
    listReplaySessions_200_response_items_inner:
      example:
        options:
          instanceId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          skipProcessed: true
          dryRun: true
          speedMultiplier: 60.27456183070403
          limit: 8008
          until: 2000-01-23T04:56:07.000+00:00
          eventTypes:
          - eventTypes
          - eventTypes
          since: 2000-01-23T04:56:07.000+00:00
        progress:
          processed: 5
          total: 1
          completedAt: 2000-01-23T04:56:07.000+00:00
          startedAt: 2000-01-23T04:56:07.000+00:00
          failed: 5
        id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        status: running
      properties:
        id:
          description: Session UUID
          format: uuid
          type: string
        status:
          description: Status
          enum:
          - running
          - completed
          - cancelled
          - failed
          type: string
        options:
          $ref: "#/components/schemas/listReplaySessions_200_response_items_inner_options"
        progress:
          $ref: "#/components/schemas/listReplaySessions_200_response_items_inner_progress"
      required:
      - id
      - options
      - progress
      - status
      type: object
    listReplaySessions_200_response:
      example:
        items:
        - options:
            instanceId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            skipProcessed: true
            dryRun: true
            speedMultiplier: 60.27456183070403
            limit: 8008
            until: 2000-01-23T04:56:07.000+00:00
            eventTypes:
            - eventTypes
            - eventTypes
            since: 2000-01-23T04:56:07.000+00:00
          progress:
            processed: 5
            total: 1
            completedAt: 2000-01-23T04:56:07.000+00:00
            startedAt: 2000-01-23T04:56:07.000+00:00
            failed: 5
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          status: running
        - options:
            instanceId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            skipProcessed: true
            dryRun: true
            speedMultiplier: 60.27456183070403
            limit: 8008
            until: 2000-01-23T04:56:07.000+00:00
            eventTypes:
            - eventTypes
            - eventTypes
            since: 2000-01-23T04:56:07.000+00:00
          progress:
            processed: 5
            total: 1
            completedAt: 2000-01-23T04:56:07.000+00:00
            startedAt: 2000-01-23T04:56:07.000+00:00
            failed: 5
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          status: running
      properties:
        items:
          items:
            $ref: "#/components/schemas/listReplaySessions_200_response_items_inner"
          type: array
      required:
      - items
      type: object
    startEventReplay_202_response:
      example:
        data:
          options:
            instanceId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
            skipProcessed: true
            dryRun: true
            speedMultiplier: 60.27456183070403
            limit: 8008
            until: 2000-01-23T04:56:07.000+00:00
            eventTypes:
            - eventTypes
            - eventTypes
            since: 2000-01-23T04:56:07.000+00:00
          progress:
            processed: 5
            total: 1
            completedAt: 2000-01-23T04:56:07.000+00:00
            startedAt: 2000-01-23T04:56:07.000+00:00
            failed: 5
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          status: running
      properties:
        data:
          $ref: "#/components/schemas/listReplaySessions_200_response_items_inner"
      required:
      - data
      type: object
    runScheduledOps_200_response_data_deadLetterRetry:
      example:
        attempted: 0
        failed: 1
        succeeded: 6
      properties:
        attempted:
          type: integer
        succeeded:
          type: integer
        failed:
          type: integer
      required:
      - attempted
      - failed
      - succeeded
      type: object
    runScheduledOps_200_response_data_payloadCleanup:
      example:
        deleted: 5
      properties:
        deleted:
          type: integer
      required:
      - deleted
      type: object
    runScheduledOps_200_response_data:
      example:
        payloadCleanup:
          deleted: 5
        deadLetterRetry:
          attempted: 0
          failed: 1
          succeeded: 6
      properties:
        deadLetterRetry:
          $ref: "#/components/schemas/runScheduledOps_200_response_data_deadLetterRetry"
        payloadCleanup:
          $ref: "#/components/schemas/runScheduledOps_200_response_data_payloadCleanup"
      required:
      - deadLetterRetry
      - payloadCleanup
      type: object
    runScheduledOps_200_response:
      example:
        data:
          payloadCleanup:
            deleted: 5
          deadLetterRetry:
            attempted: 0
            failed: 1
            succeeded: 6
      properties:
        data:
          $ref: "#/components/schemas/runScheduledOps_200_response_data"
      required:
      - data
      type: object
    getMetrics_200_response:
      properties:
        gauges:
          additionalProperties:
            type: number
          type: object
        counters:
          additionalProperties:
            type: number
          type: object
        histograms:
          additionalProperties:
            nullable: true
          type: object
      type: object
    listAutomations_200_response_items_inner_triggerConditions_inner:
      example:
        field: field
        value: ""
        operator: eq
      properties:
        field:
          description: Dot notation field path
          minLength: 1
          type: string
        operator:
          description: Operator
          enum:
          - eq
          - neq
          - gt
          - lt
          - gte
          - lte
          - contains
          - not_contains
          - exists
          - not_exists
          - regex
          type: string
        value:
          description: Value to compare
          nullable: true
      required:
      - field
      - operator
      type: object
    listAutomations_200_response_items_inner_actions_inner_anyOf_config:
      example:
        responseAs: responseAs
        headers:
          key: headers
        method: POST
        bodyTemplate: bodyTemplate
        waitForResponse: false
        timeoutMs: 0
        url: url
      properties:
        url:
          description: Webhook URL
          minLength: 1
          type: string
        method:
          default: POST
          enum:
          - GET
          - POST
          - PUT
          - PATCH
          - DELETE
          type: string
        headers:
          additionalProperties:
            type: string
          type: object
        bodyTemplate:
          type: string
        waitForResponse:
          default: false
          type: boolean
        timeoutMs:
          default: 30000
          type: integer
        responseAs:
          type: string
      required:
      - url
      type: object
    listAutomations_200_response_items_inner_actions_inner_anyOf:
      example:
        type: webhook
        config:
          responseAs: responseAs
          headers:
            key: headers
          method: POST
          bodyTemplate: bodyTemplate
          waitForResponse: false
          timeoutMs: 0
          url: url
      properties:
        type:
          enum:
          - webhook
          type: string
        config:
          $ref: "#/components/schemas/listAutomations_200_response_items_inner_actions_inner_anyOf_config"
      required:
      - config
      - type
      type: object
    listAutomations_200_response_items_inner_actions_inner_anyOf_1_config:
      properties:
        instanceId:
          type: string
        to:
          type: string
        contentTemplate:
          minLength: 1
          type: string
      required:
      - contentTemplate
      type: object
    listAutomations_200_response_items_inner_actions_inner_anyOf_1:
      properties:
        type:
          enum:
          - send_message
          type: string
        config:
          $ref: "#/components/schemas/listAutomations_200_response_items_inner_actions_inner_anyOf_1_config"
      required:
      - config
      - type
      type: object
    listAutomations_200_response_items_inner_actions_inner_anyOf_2_config:
      properties:
        eventType:
          minLength: 1
          type: string
        payloadTemplate:
          additionalProperties:
            nullable: true
          type: object
      required:
      - eventType
      type: object
    listAutomations_200_response_items_inner_actions_inner_anyOf_2:
      properties:
        type:
          enum:
          - emit_event
          type: string
        config:
          $ref: "#/components/schemas/listAutomations_200_response_items_inner_actions_inner_anyOf_2_config"
      required:
      - config
      - type
      type: object
    listAutomations_200_response_items_inner_actions_inner_anyOf_3_config:
      properties:
        level:
          enum:
          - debug
          - info
          - warn
          - error
          type: string
        message:
          minLength: 1
          type: string
      required:
      - level
      - message
      type: object
    listAutomations_200_response_items_inner_actions_inner_anyOf_3:
      properties:
        type:
          enum:
          - log
          type: string
        config:
          $ref: "#/components/schemas/listAutomations_200_response_items_inner_actions_inner_anyOf_3_config"
      required:
      - config
      - type
      type: object
    listAutomations_200_response_items_inner_actions_inner_anyOf_4_config:
      properties:
        providerId:
          description: "Provider ID (template: {{instance.agentProviderId}})"
          type: string
        agentId:
          description: Agent ID (required or template)
          minLength: 1
          type: string
        agentType:
          description: Agent type
          enum:
          - agent
          - team
          - workflow
          type: string
        sessionStrategy:
          description: Session strategy for agent memory
          enum:
          - per_user
          - per_chat
          - per_user_per_chat
          type: string
        prefixSenderName:
          description: Prefix messages with sender name
          type: boolean
        timeoutMs:
          description: Timeout in milliseconds
          type: integer
        responseAs:
          description: "Store agent response as variable for chaining (e.g., \"agentResponse\"\
            )"
          type: string
      required:
      - agentId
      type: object
    listAutomations_200_response_items_inner_actions_inner_anyOf_4:
      properties:
        type:
          enum:
          - call_agent
          type: string
        config:
          $ref: "#/components/schemas/listAutomations_200_response_items_inner_actions_inner_anyOf_4_config"
      required:
      - config
      - type
      type: object
    listAutomations_200_response_items_inner_actions_inner:
      anyOf:
      - $ref: "#/components/schemas/listAutomations_200_response_items_inner_actions_inner_anyOf"
      - $ref: "#/components/schemas/listAutomations_200_response_items_inner_actions_inner_anyOf_1"
      - $ref: "#/components/schemas/listAutomations_200_response_items_inner_actions_inner_anyOf_2"
      - $ref: "#/components/schemas/listAutomations_200_response_items_inner_actions_inner_anyOf_3"
      - $ref: "#/components/schemas/listAutomations_200_response_items_inner_actions_inner_anyOf_4"
    listAutomations_200_response_items_inner_debounce:
      description: Debounce config
      example:
        mode: none
        maxWaitMs: 2
        delayMs: 6
        extendOnEvents:
        - extendOnEvents
        - extendOnEvents
        maxMs: 5
        minMs: 1
        baseDelayMs: 5
      nullable: true
      properties:
        mode:
          enum:
          - none
          - fixed
          - range
          - presence
          type: string
        delayMs:
          type: integer
        minMs:
          type: integer
        maxMs:
          type: integer
        baseDelayMs:
          type: integer
        maxWaitMs:
          type: integer
        extendOnEvents:
          items:
            type: string
          type: array
      required:
      - mode
      type: object
    listAutomations_200_response_items_inner:
      example:
        debounce:
          mode: none
          maxWaitMs: 2
          delayMs: 6
          extendOnEvents:
          - extendOnEvents
          - extendOnEvents
          maxMs: 5
          minMs: 1
          baseDelayMs: 5
        createdAt: 2000-01-23T04:56:07.000+00:00
        triggerConditions:
        - field: field
          value: ""
          operator: eq
        - field: field
          value: ""
          operator: eq
        name: name
        description: description
        id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        triggerEventType: triggerEventType
        conditionLogic: and
        priority: 7
        actions:
        - type: webhook
          config:
            responseAs: responseAs
            headers:
              key: headers
            method: POST
            bodyTemplate: bodyTemplate
            waitForResponse: false
            timeoutMs: 0
            url: url
        - type: webhook
          config:
            responseAs: responseAs
            headers:
              key: headers
            method: POST
            bodyTemplate: bodyTemplate
            waitForResponse: false
            timeoutMs: 0
            url: url
        enabled: true
        updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        id:
          description: Automation UUID
          format: uuid
          type: string
        name:
          description: Name
          type: string
        description:
          description: Description
          nullable: true
          type: string
        triggerEventType:
          description: Trigger event type
          type: string
        triggerConditions:
          description: Conditions
          items:
            $ref: "#/components/schemas/listAutomations_200_response_items_inner_triggerConditions_inner"
          nullable: true
          type: array
        conditionLogic:
          description: Condition logic
          enum:
          - and
          - or
          nullable: true
          type: string
        actions:
          description: Actions
          items:
            $ref: "#/components/schemas/listAutomations_200_response_items_inner_actions_inner"
          type: array
        debounce:
          $ref: "#/components/schemas/listAutomations_200_response_items_inner_debounce"
        enabled:
          description: Whether enabled
          type: boolean
        priority:
          description: Priority
          type: integer
        createdAt:
          description: Creation timestamp
          format: date-time
          type: string
        updatedAt:
          description: Last update timestamp
          format: date-time
          type: string
      required:
      - actions
      - conditionLogic
      - createdAt
      - debounce
      - description
      - enabled
      - id
      - name
      - priority
      - triggerConditions
      - triggerEventType
      - updatedAt
      type: object
    listAutomations_200_response:
      example:
        items:
        - debounce:
            mode: none
            maxWaitMs: 2
            delayMs: 6
            extendOnEvents:
            - extendOnEvents
            - extendOnEvents
            maxMs: 5
            minMs: 1
            baseDelayMs: 5
          createdAt: 2000-01-23T04:56:07.000+00:00
          triggerConditions:
          - field: field
            value: ""
            operator: eq
          - field: field
            value: ""
            operator: eq
          name: name
          description: description
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          triggerEventType: triggerEventType
          conditionLogic: and
          priority: 7
          actions:
          - type: webhook
            config:
              responseAs: responseAs
              headers:
                key: headers
              method: POST
              bodyTemplate: bodyTemplate
              waitForResponse: false
              timeoutMs: 0
              url: url
          - type: webhook
            config:
              responseAs: responseAs
              headers:
                key: headers
              method: POST
              bodyTemplate: bodyTemplate
              waitForResponse: false
              timeoutMs: 0
              url: url
          enabled: true
          updatedAt: 2000-01-23T04:56:07.000+00:00
        - debounce:
            mode: none
            maxWaitMs: 2
            delayMs: 6
            extendOnEvents:
            - extendOnEvents
            - extendOnEvents
            maxMs: 5
            minMs: 1
            baseDelayMs: 5
          createdAt: 2000-01-23T04:56:07.000+00:00
          triggerConditions:
          - field: field
            value: ""
            operator: eq
          - field: field
            value: ""
            operator: eq
          name: name
          description: description
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          triggerEventType: triggerEventType
          conditionLogic: and
          priority: 7
          actions:
          - type: webhook
            config:
              responseAs: responseAs
              headers:
                key: headers
              method: POST
              bodyTemplate: bodyTemplate
              waitForResponse: false
              timeoutMs: 0
              url: url
          - type: webhook
            config:
              responseAs: responseAs
              headers:
                key: headers
              method: POST
              bodyTemplate: bodyTemplate
              waitForResponse: false
              timeoutMs: 0
              url: url
          enabled: true
          updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        items:
          items:
            $ref: "#/components/schemas/listAutomations_200_response_items_inner"
          type: array
      required:
      - items
      type: object
    createAutomation_request_debounce:
      description: Debounce config
      example:
        mode: none
        maxWaitMs: 5
        delayMs: 0
        extendOnEvents:
        - extendOnEvents
        - extendOnEvents
        maxMs: 1
        minMs: 6
        baseDelayMs: 5
      properties:
        mode:
          enum:
          - none
          - fixed
          - range
          - presence
          type: string
        delayMs:
          type: integer
        minMs:
          type: integer
        maxMs:
          type: integer
        baseDelayMs:
          type: integer
        maxWaitMs:
          type: integer
        extendOnEvents:
          items:
            type: string
          type: array
      required:
      - mode
      type: object
    createAutomation_request:
      properties:
        name:
          description: Name
          maxLength: 255
          minLength: 1
          type: string
        description:
          description: Description
          type: string
        triggerEventType:
          description: Trigger event type
          minLength: 1
          type: string
        triggerConditions:
          description: Conditions
          items:
            $ref: "#/components/schemas/listAutomations_200_response_items_inner_triggerConditions_inner"
          type: array
        conditionLogic:
          default: and
          description: "Condition logic: \"and\" (all must match) or \"or\" (any must\
            \ match)"
          enum:
          - and
          - or
          type: string
        actions:
          description: Actions
          items:
            $ref: "#/components/schemas/listAutomations_200_response_items_inner_actions_inner"
          minItems: 1
          type: array
        debounce:
          $ref: "#/components/schemas/createAutomation_request_debounce"
        enabled:
          default: true
          description: Whether enabled
          type: boolean
        priority:
          default: 0
          description: Priority
          type: integer
      required:
      - actions
      - name
      - triggerEventType
      type: object
    createAutomation_201_response:
      example:
        data:
          debounce:
            mode: none
            maxWaitMs: 2
            delayMs: 6
            extendOnEvents:
            - extendOnEvents
            - extendOnEvents
            maxMs: 5
            minMs: 1
            baseDelayMs: 5
          createdAt: 2000-01-23T04:56:07.000+00:00
          triggerConditions:
          - field: field
            value: ""
            operator: eq
          - field: field
            value: ""
            operator: eq
          name: name
          description: description
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          triggerEventType: triggerEventType
          conditionLogic: and
          priority: 7
          actions:
          - type: webhook
            config:
              responseAs: responseAs
              headers:
                key: headers
              method: POST
              bodyTemplate: bodyTemplate
              waitForResponse: false
              timeoutMs: 0
              url: url
          - type: webhook
            config:
              responseAs: responseAs
              headers:
                key: headers
              method: POST
              bodyTemplate: bodyTemplate
              waitForResponse: false
              timeoutMs: 0
              url: url
          enabled: true
          updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        data:
          $ref: "#/components/schemas/listAutomations_200_response_items_inner"
      required:
      - data
      type: object
    updateAutomation_request:
      properties:
        name:
          description: Name
          maxLength: 255
          minLength: 1
          type: string
        description:
          description: Description
          type: string
        triggerEventType:
          description: Trigger event type
          minLength: 1
          type: string
        triggerConditions:
          description: Conditions
          items:
            $ref: "#/components/schemas/listAutomations_200_response_items_inner_triggerConditions_inner"
          type: array
        conditionLogic:
          default: and
          description: "Condition logic: \"and\" (all must match) or \"or\" (any must\
            \ match)"
          enum:
          - and
          - or
          type: string
        actions:
          description: Actions
          items:
            $ref: "#/components/schemas/listAutomations_200_response_items_inner_actions_inner"
          minItems: 1
          type: array
        debounce:
          $ref: "#/components/schemas/createAutomation_request_debounce"
        enabled:
          default: true
          description: Whether enabled
          type: boolean
        priority:
          default: 0
          description: Priority
          type: integer
      type: object
    testAutomation_request_event:
      example:
        payload:
          key: ""
        type: type
      properties:
        type:
          description: Event type
          minLength: 1
          type: string
        payload:
          additionalProperties:
            nullable: true
          description: Event payload
          type: object
      required:
      - payload
      - type
      type: object
    testAutomation_request:
      properties:
        event:
          $ref: "#/components/schemas/testAutomation_request_event"
      required:
      - event
      type: object
    testAutomation_200_response_conditionResults_inner:
      example:
        condition:
          field: field
          value: ""
          operator: eq
        passed: true
      properties:
        condition:
          $ref: "#/components/schemas/listAutomations_200_response_items_inner_triggerConditions_inner"
        passed:
          type: boolean
      required:
      - condition
      - passed
      type: object
    testAutomation_200_response:
      example:
        wouldExecute:
        - type: webhook
          config:
            responseAs: responseAs
            headers:
              key: headers
            method: POST
            bodyTemplate: bodyTemplate
            waitForResponse: false
            timeoutMs: 0
            url: url
        - type: webhook
          config:
            responseAs: responseAs
            headers:
              key: headers
            method: POST
            bodyTemplate: bodyTemplate
            waitForResponse: false
            timeoutMs: 0
            url: url
        matched: true
        conditionResults:
        - condition:
            field: field
            value: ""
            operator: eq
          passed: true
        - condition:
            field: field
            value: ""
            operator: eq
          passed: true
      properties:
        matched:
          type: boolean
        conditionResults:
          items:
            $ref: "#/components/schemas/testAutomation_200_response_conditionResults_inner"
          type: array
        wouldExecute:
          items:
            $ref: "#/components/schemas/listAutomations_200_response_items_inner_actions_inner"
          type: array
      required:
      - matched
      type: object
    executeAutomation_200_response_results_inner:
      example:
        result: ""
        action: action
        error: error
        durationMs: 0
        status: success
      properties:
        action:
          type: string
        status:
          enum:
          - success
          - failed
          type: string
        result:
          nullable: true
        error:
          type: string
        durationMs:
          type: integer
      required:
      - action
      - durationMs
      - status
      type: object
    executeAutomation_200_response:
      example:
        automationId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        triggered: true
        results:
        - result: ""
          action: action
          error: error
          durationMs: 0
          status: success
        - result: ""
          action: action
          error: error
          durationMs: 0
          status: success
      properties:
        automationId:
          format: uuid
          type: string
        triggered:
          description: Whether the automation was triggered (event type matched)
          type: boolean
        results:
          description: Results of each action execution
          items:
            $ref: "#/components/schemas/executeAutomation_200_response_results_inner"
          type: array
      required:
      - automationId
      - results
      - triggered
      type: object
    getAutomationLogs_200_response_items_inner:
      example:
        automationId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        eventId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        executedAt: 2000-01-23T04:56:07.000+00:00
        id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        eventType: eventType
        error: error
        durationMs: 0
        status: success
      properties:
        id:
          description: Log UUID
          format: uuid
          type: string
        automationId:
          description: Automation UUID
          format: uuid
          type: string
        eventId:
          description: Event UUID
          format: uuid
          type: string
        eventType:
          description: Event type
          type: string
        status:
          description: Execution status
          enum:
          - success
          - failed
          - skipped
          type: string
        error:
          description: Error message
          nullable: true
          type: string
        executedAt:
          description: Execution timestamp
          format: date-time
          type: string
        durationMs:
          description: Duration (ms)
          type: integer
      required:
      - automationId
      - durationMs
      - error
      - eventId
      - eventType
      - executedAt
      - id
      - status
      type: object
    getAutomationLogs_200_response:
      example:
        meta:
          cursor: cursor
          hasMore: true
        items:
        - automationId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          eventId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          executedAt: 2000-01-23T04:56:07.000+00:00
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          eventType: eventType
          error: error
          durationMs: 0
          status: success
        - automationId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          eventId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          executedAt: 2000-01-23T04:56:07.000+00:00
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          eventType: eventType
          error: error
          durationMs: 0
          status: success
      properties:
        items:
          items:
            $ref: "#/components/schemas/getAutomationLogs_200_response_items_inner"
          type: array
        meta:
          $ref: "#/components/schemas/listInstances_200_response_meta"
      required:
      - items
      - meta
      type: object
    getAutomationMetrics_200_response:
      example:
        running: true
        totalAutomations: 0
        enabledAutomations: 6
        actionsExecuted: 5
        eventsProcessed: 1
        failedActions: 5
      properties:
        running:
          description: Engine running
          type: boolean
        totalAutomations:
          description: Total automations
          type: integer
        enabledAutomations:
          description: Enabled automations
          type: integer
        eventsProcessed:
          description: Events processed
          type: integer
        actionsExecuted:
          description: Actions executed
          type: integer
        failedActions:
          description: Failed actions
          type: integer
      required:
      - actionsExecuted
      - enabledAutomations
      - eventsProcessed
      - failedActions
      - running
      - totalAutomations
      type: object
    listEventPayloads_200_response_items_inner:
      example:
        eventId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        createdAt: 2000-01-23T04:56:07.000+00:00
        stage: webhook_raw
        hasData: true
        id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        mimeType: mimeType
        sizeBytes: 0
      properties:
        id:
          description: Payload UUID
          format: uuid
          type: string
        eventId:
          description: Event UUID
          format: uuid
          type: string
        stage:
          description: Payload stage
          enum:
          - webhook_raw
          - agent_request
          - agent_response
          - channel_send
          - error
          type: string
        mimeType:
          description: MIME type
          type: string
        sizeBytes:
          description: Size in bytes
          type: integer
        hasData:
          description: Whether data is available
          type: boolean
        createdAt:
          description: Creation timestamp
          format: date-time
          type: string
      required:
      - createdAt
      - eventId
      - hasData
      - id
      - mimeType
      - sizeBytes
      - stage
      type: object
    listEventPayloads_200_response:
      example:
        items:
        - eventId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          createdAt: 2000-01-23T04:56:07.000+00:00
          stage: webhook_raw
          hasData: true
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          mimeType: mimeType
          sizeBytes: 0
        - eventId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          createdAt: 2000-01-23T04:56:07.000+00:00
          stage: webhook_raw
          hasData: true
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          mimeType: mimeType
          sizeBytes: 0
      properties:
        items:
          items:
            $ref: "#/components/schemas/listEventPayloads_200_response_items_inner"
          type: array
      required:
      - items
      type: object
    deleteEventPayloads_request:
      properties:
        reason:
          description: Deletion reason
          maxLength: 255
          minLength: 1
          type: string
      required:
      - reason
      type: object
    getEventPayloadByStage_200_response_data:
      example:
        eventId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        createdAt: 2000-01-23T04:56:07.000+00:00
        stage: webhook_raw
        payload: ""
        hasData: true
        id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
        mimeType: mimeType
        sizeBytes: 0
      properties:
        id:
          description: Payload UUID
          format: uuid
          type: string
        eventId:
          description: Event UUID
          format: uuid
          type: string
        stage:
          description: Payload stage
          enum:
          - webhook_raw
          - agent_request
          - agent_response
          - channel_send
          - error
          type: string
        mimeType:
          description: MIME type
          type: string
        sizeBytes:
          description: Size in bytes
          type: integer
        hasData:
          description: Whether data is available
          type: boolean
        createdAt:
          description: Creation timestamp
          format: date-time
          type: string
        payload:
          description: Decompressed payload data
          nullable: true
      required:
      - createdAt
      - eventId
      - hasData
      - id
      - mimeType
      - sizeBytes
      - stage
      type: object
    getEventPayloadByStage_200_response:
      example:
        data:
          eventId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          createdAt: 2000-01-23T04:56:07.000+00:00
          stage: webhook_raw
          payload: ""
          hasData: true
          id: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
          mimeType: mimeType
          sizeBytes: 0
      properties:
        data:
          $ref: "#/components/schemas/getEventPayloadByStage_200_response_data"
      required:
      - data
      type: object
    listPayloadConfigs_200_response_items_inner:
      example:
        storeError: true
        storeAgentRequest: true
        storeAgentResponse: true
        retentionDays: 0
        storeChannelSend: true
        eventType: eventType
        storeWebhookRaw: true
      properties:
        eventType:
          description: Event type pattern
          type: string
        storeWebhookRaw:
          description: Store webhook raw
          type: boolean
        storeAgentRequest:
          description: Store agent request
          type: boolean
        storeAgentResponse:
          description: Store agent response
          type: boolean
        storeChannelSend:
          description: Store channel send
          type: boolean
        storeError:
          description: Store errors
          type: boolean
        retentionDays:
          description: Retention in days
          type: integer
      required:
      - eventType
      - retentionDays
      - storeAgentRequest
      - storeAgentResponse
      - storeChannelSend
      - storeError
      - storeWebhookRaw
      type: object
    listPayloadConfigs_200_response:
      example:
        items:
        - storeError: true
          storeAgentRequest: true
          storeAgentResponse: true
          retentionDays: 0
          storeChannelSend: true
          eventType: eventType
          storeWebhookRaw: true
        - storeError: true
          storeAgentRequest: true
          storeAgentResponse: true
          retentionDays: 0
          storeChannelSend: true
          eventType: eventType
          storeWebhookRaw: true
      properties:
        items:
          items:
            $ref: "#/components/schemas/listPayloadConfigs_200_response_items_inner"
          type: array
      required:
      - items
      type: object
    updatePayloadConfig_request:
      properties:
        storeWebhookRaw:
          description: Store webhook raw
          type: boolean
        storeAgentRequest:
          description: Store agent request
          type: boolean
        storeAgentResponse:
          description: Store agent response
          type: boolean
        storeChannelSend:
          description: Store channel send
          type: boolean
        storeError:
          description: Store errors
          type: boolean
        retentionDays:
          description: Retention in days
          maximum: 365
          minimum: 1
          type: integer
      type: object
    updatePayloadConfig_200_response:
      example:
        data:
          storeError: true
          storeAgentRequest: true
          storeAgentResponse: true
          retentionDays: 0
          storeChannelSend: true
          eventType: eventType
          storeWebhookRaw: true
      properties:
        data:
          $ref: "#/components/schemas/listPayloadConfigs_200_response_items_inner"
      required:
      - data
      type: object
    getPayloadStats_200_response_data_byStage:
      description: Count by stage
      example:
        webhook_raw: 1
        agent_response: 5
        agent_request: 5
        error: 7
        channel_send: 2
      properties:
        webhook_raw:
          type: integer
        agent_request:
          type: integer
        agent_response:
          type: integer
        channel_send:
          type: integer
        error:
          type: integer
      type: object
    getPayloadStats_200_response_data:
      example:
        byStage:
          webhook_raw: 1
          agent_response: 5
          agent_request: 5
          error: 7
          channel_send: 2
        oldestPayload: 2000-01-23T04:56:07.000+00:00
        totalPayloads: 0
        totalSizeBytes: 6
      properties:
        totalPayloads:
          description: Total payloads
          type: integer
        totalSizeBytes:
          description: Total size
          type: integer
        byStage:
          $ref: "#/components/schemas/getPayloadStats_200_response_data_byStage"
        oldestPayload:
          description: Oldest payload date
          format: date-time
          nullable: true
          type: string
      required:
      - byStage
      - oldestPayload
      - totalPayloads
      - totalSizeBytes
      type: object
    getPayloadStats_200_response:
      example:
        data:
          byStage:
            webhook_raw: 1
            agent_response: 5
            agent_request: 5
            error: 7
            channel_send: 2
          oldestPayload: 2000-01-23T04:56:07.000+00:00
          totalPayloads: 0
          totalSizeBytes: 6
      properties:
        data:
          $ref: "#/components/schemas/getPayloadStats_200_response_data"
      required:
      - data
      type: object
  securitySchemes:
    ApiKeyAuth:
      description: API key for authentication
      in: header
      name: x-api-key
      type: apiKey
